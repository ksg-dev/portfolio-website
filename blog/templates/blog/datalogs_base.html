<!----
 * AURA Portfolio - Blog/Datalogs App Base Template
 * Advanced User Repository & Archive - Complete Foundation
 * Version: 2.0.1 - Optimized for Component Architecture
---->

{% extends "base.html" %}
{% load static %}
{% load code_filters %}
{% load blog_tags %}
{% load nav_tags %}

{% block extra_css %}
<!-- DataLogs App Specific Styles -->
<link rel="stylesheet" href="{% static 'blog/css/datalogs.css' %}">
<link rel="stylesheet" href="{% static 'css/components/dashboard.css' %}">
<link rel="stylesheet" href="{% static 'css/components/forms.css' %}">

{% pygments_css %}
{% block datalogs_css %}{% endblock %}
{% endblock %}

{% block body_class %}datalogs-interface {% block datalogs_body_class %}{% endblock %}{% endblock %}

{% block content %}
{% render_subnav links %}
<!-- DataLogs HUD Interface -->
<div class="datalogs-interface-container">
    
    <!-- DataLogs Header Section -->
    <section class="datalogs-header-section">
        <div class="container">
            <div class="glass-card datalogs-header-card">
                
                <!-- System Status Bar -->
                <div class="datalogs-status-bar">
                    <div class="status-left">
                        <div class="system-status">
                            <div class="status-indicator operational pulse-effect"></div>
                            <span class="status-text">DATALOG SYSTEM ONLINE</span>
                        </div>
                        <div class="system-metrics">
                            <span class="metric-item">
                                <span class="metric-value">{{ total_logs|default:"24" }}</span>
                                <span class="metric-label">Total Entries</span>
                            </span>
                            <span class="metric-separator">|</span>
                            <span class="metric-item">
                                <span class="metric-value">{{ published_logs|default:"18" }}</span>
                                <span class="metric-label">Published</span>
                            </span>
                        </div>
                    </div>
                    
                    <div class="status-right">
                        <div class="timestamp-display">
                            <i class="fas fa-clock me-2"></i>
                            <span data-timestamp="datetime">{% now "Y-m-d H:i:s" %} UTC</span>
                        </div>
                    </div>
                </div>
                
                <!-- DataLogs Navigation -->
                <div class="datalogs-nav-container">
                    <h1 class="datalogs-title display-title">
                        {% block datalogs_title %}[ DATALOG ARCHIVES ]{% endblock %}
                    </h1>
                    <p class="datalogs-subtitle system-text">
                        {% block datalogs_subtitle %}Development Insights & Technical Documentation{% endblock %}
                    </p>
                    
                    <!-- Category Navigation HUD -->
                    <div class="category-hud-nav">
                        <a href="{% url 'blog:post_list' %}" class="category-hexagon {% if not current_category %}active{% endif %}" title="All DataLogs">
                            <div class="hex-content">
                                <div class="hex-icon"><i class="fas fa-database"></i></div>
                                <div class="hex-label">ALL</div>
                            </div>
                        </a>
                        
                        {% for category in categories %}
                        <a href="{% url 'blog:category' slug=category.slug %}" 
                           class="category-hexagon {% if current_category == category.slug %}active{% endif %}"
                           title="{{ category.name }}"
                           style="--category-color: {{ category.color|default:'#26c6da' }};">
                            <div class="hex-content">
                                <div class="hex-icon">
                                    {% if category.icon %}
                                    <i class="fas {{ category.icon }}"></i>
                                    {% else %}
                                    <span class="hex-code">{{ category.code|default:"LOG" }}</span>
                                    {% endif %}
                                </div>
                                <div class="hex-label">{{ category.code|default:"LOG" }}</div>
                            </div>
                        </a>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- DataLogs Content Area -->
    <main class="datalogs-main-content">
        <div class="container">
            
            <!-- DataLogs Filters & Search -->
            {% block datalogs_filters %}
            <div class="datalogs-controls">
                <div class="glass-card controls-panel">
                    <div class="controls-left">
                        <!-- Search Interface -->
                        <form method="get" action="{% url 'blog:search' %}" class="search-terminal">
                            <div class="search-container">
                                <div class="search-prompt">
                                    <span class="prompt-text">search:</span>
                                    <input type="text" name="q" value="{{ query|default:'' }}" 
                                           class="search-input" placeholder="Enter search parameters..."
                                           autocomplete="off">
                                </div>
                                <button type="submit" class="search-execute">
                                    <i class="fas fa-search"></i>
                                </button>
                            </div>
                        </form>
                    </div>
                    
                    <div class="controls-right">
                        <!-- View Mode Toggle -->
                        <div class="view-toggle">
                            <button class="view-btn grid-view active" data-view="grid">
                                <i class="fas fa-th"></i>
                            </button>
                            <button class="view-btn list-view" data-view="list">
                                <i class="fas fa-list"></i>
                            </button>
                        </div>
                        
                        <!-- Sort Options -->
                        <div class="sort-dropdown">
                            <select class="hud-select" id="sortSelect">
                                <option value="latest">Latest First</option>
                                <option value="oldest">Oldest First</option>
                                <option value="title">Title A-Z</option>
                                <option value="category">By Category</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            {% endblock %}
            
            <!-- Main DataLogs Content -->
            <div class="datalogs-content-grid">
                {% block datalogs_content %}
                <!-- Default content - will be overridden in child templates -->
                <div class="glass-card info-card">
                    <h3>DataLog System Ready</h3>
                    <p>Awaiting content implementation...</p>
                </div>
                {% endblock %}
            </div>
            
            <!-- DataLogs Pagination -->
            {% block datalogs_pagination %}
            {% if is_paginated %}
            <div class="datalogs-pagination">
                {% include 'components/pagination.html' %}
            </div>
            {% endif %}
            {% endblock %}
            
        </div>
    </main>
    
    <!-- DataLogs Sidebar (Optional) -->
    {% block datalogs_sidebar %}{% endblock %}
    
</div>
{% endblock %}

{% block extra_js %}
<!-- DataLogs App Scripts -->
<script src="{% static 'blog/js/datalogs.js' %}"></script>
{% block datalogs_js %}{% endblock %}

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize DataLogs interface
    if (typeof initDataLogsInterface === 'function') {
        initDataLogsInterface();
    }
    
    // View toggle functionality
    const viewButtons = document.querySelectorAll('.view-btn');
    const contentGrid = document.querySelector('.datalogs-content-grid');
    
    viewButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            viewButtons.forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            
            const viewMode = this.dataset.view;
            if (contentGrid) {
                contentGrid.className = `datalogs-content-grid ${viewMode}-view`;
            }
        });
    });
    
    // Sort functionality
    const sortSelect = document.getElementById('sortSelect');
    if (sortSelect) {
        sortSelect.addEventListener('change', function() {
            const url = new URL(window.location);
            url.searchParams.set('sort', this.value);
            window.location.href = url.toString();
        });
    }
    
    // Initialize category hexagon animations
    const hexagons = document.querySelectorAll('.category-hexagon');
    hexagons.forEach((hex, index) => {
        hex.style.animationDelay = `${index * 0.1}s`;
        hex.classList.add('fade-in-up');
    });
    
    // App-specific initialization
    {% block datalogs_inline_js %}{% endblock %}
});
</script>
{% endblock %}