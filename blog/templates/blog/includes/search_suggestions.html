<!----
 * SIMPLIFIED Search Suggestions Template for debugging
 * File: blog/templates/blog/includes/search_suggestions.html
 * This is a minimal version to test basic functionality
---->

{% load aura_filters %}

<div class="search-suggestions-debug" style="border: 2px solid lime; padding: 20px; margin: 10px;">
    <h3>ðŸ”§ Search Suggestions Debug (Style: {{ style }})</h3>
    
    <p><strong>Query:</strong> "{{ query|default:'NO QUERY' }}"</p>
    <p><strong>Style:</strong> {{ style }}</p>
    <p><strong>Enable AJAX:</strong> {{ enable_ajax|yesno:"Yes,No" }}</p>
    
    {% if style == 'full' %}
    <!-- Full search suggestions -->
    <div class="search-suggestions-full" style="background: rgba(0,100,0,0.2); padding: 15px; margin: 10px;">
        <h4>Full Search Interface</h4>
        
        <form method="get" action="{% url 'blog:search' %}">
            <div style="display: flex; gap: 10px; margin: 10px 0;">
                <input type="text" 
                       name="q" 
                       value="{{ query }}"
                       placeholder="Search DataLogs..."
                       style="flex: 1; padding: 10px; background: rgba(255,255,255,0.1); border: 1px solid #ccc; color: white;">
                <button type="submit" style="padding: 10px 20px; background: #007cba; color: white; border: none;">
                    Search
                </button>
            </div>
        </form>
        
        {% if suggestions %}
        <div style="margin: 15px 0;">
            <h5>Suggestions ({{ suggestions|length }}):</h5>
            <ul>
                {% for suggestion in suggestions %}
                <li style="margin: 5px 0;">
                    <a href="{{ suggestion.url|default:'#' }}" style="color: #4CAF50;">
                        {{ suggestion.text }} ({{ suggestion.type }})
                    </a>
                </li>
                {% endfor %}
            </ul>
        </div>
        {% else %}
        <p style="color: yellow;">No suggestions available</p>
        {% endif %}
        
        <div style="margin: 15px 0; padding: 10px; background: rgba(255,255,255,0.1);">
            <h5>Context Info:</h5>
            <p>Total Posts: {{ search_context.total_posts|default:'Unknown' }}</p>
            <p>Total Categories: {{ search_context.total_categories|default:'Unknown' }}</p>
            <p>Total Tags: {{ search_context.total_tags|default:'Unknown' }}</p>
        </div>
    </div>
    
    {% elif style == 'compact' %}
    <!-- Compact search suggestions -->
    <div class="search-suggestions-compact" style="background: rgba(100,0,0,0.2); padding: 15px; margin: 10px;">
        <h4>Compact Search Interface</h4>
        
        {% if suggestions %}
        <ul style="list-style: none; padding: 0;">
            {% for suggestion in suggestions|slice:":5" %}
            <li style="margin: 5px 0; padding: 5px; background: rgba(255,255,255,0.1);">
                <a href="{{ suggestion.url|default:'#' }}" style="color: #FF9800;">
                    {{ suggestion.text|truncate_smart:40 }}
                </a>
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p style="color: yellow;">No compact suggestions</p>
        {% endif %}
    </div>
    
    {% elif style == 'minimal' %}
    <!-- Minimal search suggestions -->
    <div class="search-suggestions-minimal" style="background: rgba(0,0,100,0.2); padding: 15px; margin: 10px;">
        <h4>Minimal Search Interface</h4>
        <p>Query: {{ query|default:'None' }}</p>
        <p>Suggestions count: {{ suggestions|length|default:0 }}</p>
    </div>
    
    {% else %}
    <!-- Default/other styles -->
    <div class="search-suggestions-default" style="background: rgba(100,100,0,0.2); padding: 15px; margin: 10px;">
        <h4>Default Search Interface ({{ style }})</h4>
        <p>This is a fallback for style: "{{ style }}"</p>
    </div>
    {% endif %}
    
    <!-- Debug info -->
    <div style="margin-top: 15px; padding: 10px; background: rgba(255,255,255,0.1); font-family: monospace; font-size: 12px;">
        <strong>Debug Variables:</strong><br>
        css_classes: {{ css_classes|default:'None' }}<br>
        max_suggestions: {{ max_suggestions|default:'None' }}<br>
        show_icons: {{ show_icons|default:'None' }}<br>
        enable_ajax: {{ enable_ajax|default:'None' }}<br>
        suggestions_count: {{ suggestions|length|default:0 }}<br>
    </div>
</div>