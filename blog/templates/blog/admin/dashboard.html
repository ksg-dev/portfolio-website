<!-- blog/templates/blog/admin/dashboard.html -->
{% extends 'admin/admin_base.html' %}
{% load static %}

{% block extra_head %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'blog/css/datalog-dashboard.css' %}">
{% endblock %}

{% block admin_content %}
<div class="dashboard-header">
    <h1 class="dashboard-title">
        <i class="fas fa-database"></i>
        DataLogs Control Center
    </h1>
    <div class="dashboard-actions">
        <a href="{% url 'blog:post_create' %}" class="btn btn-primary">
            <i class="fas fa-plus"></i>
            New DataLog
        </a>
    </div>
</div>

<div class="dashboard-grid">
    <div class="stats-row">
        {% include 'admin/components/stats_widget.html' with title="Total DataLogs" value=post_count icon="database" %}
        {% include 'admin/components/stats_widget.html' with title="Published" value=published_count icon="check-circle" %}
        {% include 'admin/components/stats_widget.html' with title="Drafts" value=draft_count icon="edit" %}
        {% include 'admin/components/stats_widget.html' with title="Categories" value=category_count icon="folder" %}
    </div>
    
    <div class="content-row">
        <div class="recent-posts glass-card">
            <h3 class="card-title">
                <i class="fas fa-clock"></i>
                Recent DataLogs
            </h3>
            <div class="posts-list">
                {% for post in posts %}
                    <div class="post-item">
                        <div class="post-header">
                            <h4 class="post-title">
                                <a href="{% url 'blog:post_update' post.slug %}">{{ post.title }}</a>
                            </h4>
                            <span class="post-status {{ post.status }}">{{ post.get_status_display }}</span>
                        </div>
                        <div class="post-meta">
                            <span>{{ post.category }}</span>
                            <span>{{ post.created_at|date:"M d" }}</span>
                            <span>{{ post.view_count|default:0 }} views</span>
                        </div>
                    </div>
                {% empty %}
                    <div class="empty-state">
                        <i class="fas fa-database"></i>
                        <p>No DataLogs yet. Create your first entry!</p>
                        <a href="{% url 'blog:post_create' %}" class="btn btn-primary">
                            Create DataLog
                        </a>
                    </div>
                {% endfor %}
            </div>
        </div>
        
        <div class="quick-actions glass-card">
            <h3 class="card-title">
                <i class="fas fa-bolt"></i>
                Quick Actions
            </h3>
            <div class="actions-grid">
                <a href="{% url 'blog:post_create' %}" class="action-card">
                    <i class="fas fa-plus"></i>
                    <span>New DataLog</span>
                </a>
                <a href="{% url 'blog:category_create' %}" class="action-card">
                    <i class="fas fa-folder-plus"></i>
                    <span>New Category</span>
                </a>
                <a href="{% url 'blog:post_list' %}" class="action-card">
                    <i class="fas fa-list"></i>
                    <span>All Posts</span>
                </a>
                <a href="{% url 'blog:archive' %}" class="action-card">
                    <i class="fas fa-archive"></i>
                    <span>Archive</span>
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block admin_js %}
<script src="{% static 'blog/js/datalog-dashboard.js' %}"></script>
{% endblock %}