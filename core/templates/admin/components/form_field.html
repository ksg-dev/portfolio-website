<!-- core/templates/admin/components/form_field.html -->
{% load static %}

<div class="field-container {% if field.errors %}field-error{% endif %} {% if field.field.required %}field-required{% endif %}">
    <div class="field-header">
        <label for="{{ field.id_for_label }}" class="field-label">
            {{ field.label }}
            {% if field.field.required %}
                <span class="required-indicator">*</span>
            {% endif %}
        </label>
        
        {% if field.help_text %}
            <div class="field-help">
                <i class="fas fa-question-circle help-icon" data-toggle="tooltip" title="{{ field.help_text }}"></i>
            </div>
        {% endif %}
    </div>

    <div class="field-input">
        {% if field.field.widget.input_type == 'textarea' %}
            <div class="textarea-wrapper">
                {{ field }}
                {% if field.name == 'content' %}
                    <div class="editor-tools">
                        <button type="button" class="tool-btn" data-action="preview">
                            <i class="fas fa-eye"></i> Preview
                        </button>
                        <button type="button" class="tool-btn" data-action="fullscreen">
                            <i class="fas fa-expand"></i> Fullscreen
                        </button>
                    </div>
                {% endif %}
            </div>
        {% elif field.field.widget.input_type == 'select' %}
            <div class="select-wrapper">
                {{ field }}
                <i class="fas fa-chevron-down select-arrow"></i>
            </div>
        {% elif field.field.widget.input_type == 'checkbox' %}
            <div class="checkbox-wrapper">
                {{ field }}
                <label for="{{ field.id_for_label }}" class="checkbox-label">
                    <span class="checkbox-indicator"></span>
                    {{ field.label }}
                </label>
            </div>
        {% elif 'many' in field.field.widget.__class__.__name__.lower %}
            <div class="multi-select-wrapper">
                {{ field }}
                <div class="selection-count">
                    <span class="count">0</span> selected
                </div>
            </div>
        {% else %}
            {{ field }}
        {% endif %}
    </div>

    {% if field.errors %}
        <div class="field-errors">
            {% for error in field.errors %}
                <div class="error-message">
                    <i class="fas fa-exclamation-circle"></i>
                    {{ error }}
                </div>
            {% endfor %}
        </div>
    {% endif %}
</div>
