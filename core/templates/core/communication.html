{% extends "base.html" %}
{% load static %}

{% block title %}Communication Terminal | AURA{% endblock %}
{% block meta_description %}Establish direct communication with Sonni Gunnels for project collaboration, technical consultation, and development opportunities.{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'core/css/contact.css' %}">
{% endblock %}

{% block body_class %}communication-terminal-page{% endblock %}

{% block content %}
<!-- Communication Terminal Header -->
<section class="terminal-header-section">
    <div class="container">
        <div class="glass-card terminal-header-card">
            <div class="terminal-display">
                <div class="terminal-status-bar">
                    <div class="terminal-buttons">
                        <div class="terminal-button red"></div>
                        <div class="terminal-button yellow"></div>
                        <div class="terminal-button green"></div>
                    </div>
                    <div class="terminal-title">COMMUNICATION_PROTOCOL_V2.1</div>
                    <div class="terminal-status">
                        <div class="status-indicator operational pulse-effect"></div>
                        <span>ONLINE</span>
                    </div>
                </div>
                
                <div class="terminal-output">
                    <div class="terminal-line">
                        <span class="prompt">AURA:~$</span> initialize_communication_protocol()
                    </div>
                    <div class="terminal-response success">
                        ✓ Communication systems online<br>
                        ✓ Encryption protocols active<br>
                        ✓ Ready to receive transmission
                    </div>
                    <div class="terminal-line">
                        <span class="prompt">AURA:~$</span> status --contact-channels
                    </div>
                    <div class="terminal-response">
                        Available channels: [EMAIL, FORM, SOCIAL_NETWORKS]<br>
                        Response time: &lt; 24-48 hours<br>
                        Priority queue: ENABLED
                    </div>
                    <div class="terminal-cursor"></div>
                </div>
            </div>
            
            <div class="communication-header-content">
                <h1 class="communication-title display-title">
                    COMMUNICATION TERMINAL
                </h1>
                <p class="communication-subtitle system-text">
                    Establish secure connection for project collaboration
                </p>
                <p class="communication-description">
                    Initialize direct contact for technical discussions, project opportunities, 
                    and collaborative development initiatives. All transmissions are processed 
                    with priority routing and encrypted protocols.
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Communication Interface Section -->
<section class="communication-interface-section">
    <div class="container">
        <div class="row">
            <!-- Message Transmission Form -->
            <div class="col-lg-8">
                <div class="glass-card transmission-form-card">
                    <div class="card-header">
                        <h2 class="card-title">
                            <i class="fas fa-satellite-dish me-2"></i> Direct Transmission
                        </h2>
                        <div class="transmission-status">
                            <div class="status-indicator operational"></div>
                            <span>Channel Open</span>
                        </div>
                    </div>
                    
                    <!-- Success/Error Messages -->
                    {% if messages %}
                    <div class="transmission-alerts">
                        {% for message in messages %}
                        <div class="alert alert-{{ message.tags }}">
                            <div class="alert-icon">
                                {% if message.tags == 'success' %}
                                <i class="fas fa-check-circle"></i>
                                {% else %}
                                <i class="fas fa-exclamation-triangle"></i>
                                {% endif %}
                            </div>
                            <div class="alert-content">{{ message }}</div>
                        </div>
                        {% endfor %}
                    </div>
                    {% endif %}
                    
                    <!-- Contact Form -->
                    <form method="post" class="transmission-form">
                        {% csrf_token %}
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="{{ form.name.id_for_label }}" class="form-label">
                                    <i class="fas fa-user me-2"></i> Sender Identification
                                </label>
                                {{ form.name }}
                                {% if form.name.errors %}
                                <div class="field-error">{{ form.name.errors.0 }}</div>
                                {% endif %}
                            </div>
                            
                            <div class="form-group">
                                <label for="{{ form.email.id_for_label }}" class="form-label">
                                    <i class="fas fa-envelope me-2"></i> Return Channel
                                </label>
                                {{ form.email }}
                                {% if form.email.errors %}
                                <div class="field-error">{{ form.email.errors.0 }}</div>
                                {% endif %}
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="{{ form.subject.id_for_label }}" class="form-label">
                                <i class="fas fa-tag me-2"></i> Transmission Subject
                            </label>
                            {{ form.subject }}
                            {% if form.subject.errors %}
                            <div class="field-error">{{ form.subject.errors.0 }}</div>
                            {% endif %}
                        </div>
                        
                        <div class="form-group">
                            <label for="{{ form.message.id_for_label }}" class="form-label">
                                <i class="fas fa-comment-dots me-2"></i> Message Payload
                            </label>
                            {{ form.message }}
                            <div class="form-help">
                                Include project details, technical requirements, timeline, and any specific questions.
                            </div>
                            {% if form.message.errors %}
                            <div class="field-error">{{ form.message.errors.0 }}</div>
                            {% endif %}
                        </div>
                        
                        <div class="transmission-actions">
                            <button type="submit" class="btn btn-primary transmission-submit">
                                <i class="fas fa-paper-plane me-2"></i> 
                                <span class="btn-text">Transmit Message</span>
                                <span class="btn-loading hidden">
                                    <i class="fas fa-circle-notch fa-spin me-2"></i> Sending...
                                </span>
                            </button>
                            <div class="transmission-info">
                                <i class="fas fa-shield-alt me-2"></i>
                                All transmissions are encrypted and processed securely
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            
            <!-- Connection Details Panel -->
            <div class="col-lg-4">
                <div class="glass-card connection-details-card">
                    <div class="card-header">
                        <h2 class="card-title">
                            <i class="fas fa-satellite me-2"></i> Connection Details
                        </h2>
                    </div>
                    
                    <div class="card-content">
                        <div class="connection-method">
                            <div class="method-icon">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div class="method-content">
                                <h3 class="method-title">Direct Email</h3>
                                <div class="method-value">hello@aura-systems.dev</div>
                                <div class="method-description">Primary communication channel</div>
                            </div>
                        </div>
                        
                        <div class="connection-method">
                            <div class="method-icon">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <div class="method-content">
                                <h3 class="method-title">Geographic Location</h3>
                                <div class="method-value">Birmingham, Alabama</div>
                                <div class="method-description">United States, CST timezone</div>
                            </div>
                        </div>
                        
                        <div class="connection-method">
                            <div class="method-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="method-content">
                                <h3 class="method-title">Response Protocol</h3>
                                <div class="method-value">24-48 hours</div>
                                <div class="method-description">Typical response time for inquiries</div>
                            </div>
                        </div>
                        
                        <div class="connection-divider"></div>
                        
                        <div class="social-networks">
                            <h3 class="social-title">Alternative Channels</h3>
                            <div class="social-grid">
                                {% for link in social_links %}
                                <a href="{{ link.url }}" target="_blank" class="social-connection" title="{{ link.name }}">
                                    <i class="fab {{ link.icon }}"></i>
                                    <span class="social-name">{{ link.name }}</span>
                                </a>
                                {% empty %}
                                <a href="https://github.com/ksg-dev" target="_blank" class="social-connection">
                                    <i class="fab fa-github"></i>
                                    <span class="social-name">GitHub</span>
                                </a>
                                <a href="https://linkedin.com/in/sonni-gunnels" target="_blank" class="social-connection">
                                    <i class="fab fa-linkedin"></i>
                                    <span class="social-name">LinkedIn</span>
                                </a>
                                <a href="#" target="_blank" class="social-connection">
                                    <i class="fab fa-twitter"></i>
                                    <span class="social-name">Twitter</span>
                                </a>
                                {% endfor %}
                            </div>
                        </div>
                        
                        <div class="connection-divider"></div>
                        
                        <div class="response-guarantee">
                            <div class="guarantee-icon">
                                <i class="fas fa-handshake pulse-effect"></i>
                            </div>
                            <div class="guarantee-content">
                                <h3 class="guarantee-title">Response Guarantee</h3>
                                <p class="guarantee-text">
                                    All project inquiries and collaboration requests receive 
                                    detailed responses within the specified timeframe.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Success Indicators -->
<section class="contact-metrics-section">
    <div class="container">
        <div class="glass-card metrics-card">
            <div class="metrics-header">
                <h2 class="metrics-title">Communication Statistics</h2>
                <div class="metrics-status">
                    <div class="status-indicator operational"></div>
                    <span>System Operational</span>
                </div>
            </div>
            
            <div class="metrics-grid">
                <div class="metric-item">
                    <div class="metric-icon">
                        <i class="fas fa-reply"></i>
                    </div>
                    <div class="metric-content">
                        <div class="metric-value hud-data-counter" data-target="100">0</div>
                        <div class="metric-label">Response Rate</div>
                        <div class="metric-unit">%</div>
                    </div>
                </div>
                
                <div class="metric-item">
                    <div class="metric-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="metric-content">
                        <div class="metric-value">18</div>
                        <div class="metric-label">Avg Response Time</div>
                        <div class="metric-unit">hours</div>
                    </div>
                </div>
                
                <div class="metric-item">
                    <div class="metric-icon">
                        <i class="fas fa-handshake"></i>
                    </div>
                    <div class="metric-content">
                        <div class="metric-value hud-data-counter" data-target="85">0</div>
                        <div class="metric-label">Project Success</div>
                        <div class="metric-unit">%</div>
                    </div>
                </div>
                
                <div class="metric-item">
                    <div class="metric-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="metric-content">
                        <div class="metric-value hud-data-counter" data-target="24">0</div>
                        <div class="metric-label">Active Collaborations</div>
                        <div class="metric-unit">projects</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Collaboration Types Section -->
<section class="collaboration-types-section">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Collaboration Protocols</h2>
            <p class="section-subtitle">Available engagement types and project structures</p>
        </div>
        
        <div class="collaboration-grid">
            <div class="collaboration-card glass-card">
                <div class="collaboration-icon">
                    <i class="fas fa-laptop-code"></i>
                </div>
                <h3 class="collaboration-title">Technical Consulting</h3>
                <div class="collaboration-description">
                    Architecture review, code optimization, and technical guidance for Python, 
                    ML, and data engineering projects.
                </div>
                <div class="collaboration-features">
                    <div class="feature-item">
                        <i class="fas fa-check"></i> Code Review & Optimization
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check"></i> System Architecture Design
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check"></i> Performance Analysis
                    </div>
                </div>
            </div>
            
            <div class="collaboration-card glass-card">
                <div class="collaboration-icon">
                    <i class="fas fa-rocket"></i>
                </div>
                <h3 class="collaboration-title">Project Development</h3>
                <div class="collaboration-description">
                    Full-stack development services from concept to deployment, 
                    specializing in ML systems and data applications.
                </div>
                <div class="collaboration-features">
                    <div class="feature-item">
                        <i class="fas fa-check"></i> End-to-End Development
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check"></i> ML Model Implementation
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check"></i> API & Backend Systems
                    </div>
                </div>
            </div>
            
            <div class="collaboration-card glass-card">
                <div class="collaboration-icon">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <h3 class="collaboration-title">Knowledge Transfer</h3>
                <div class="collaboration-description">
                    Technical training, documentation development, and mentoring 
                    for teams adopting new technologies.
                </div>
                <div class="collaboration-features">
                    <div class="feature-item">
                        <i class="fas fa-check"></i> Technical Documentation
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check"></i> Team Training Sessions
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check"></i> Best Practices Implementation
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="{% static 'core/js/contact.js' %}"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize form validation
    initFormValidation();
    
    // Initialize HUD data counters
    initHUDDataCounters();
    
    // Initialize terminal effect
    initTerminalEffects();
});

function initFormValidation() {
    const form = document.querySelector('.transmission-form');
    const submitBtn = document.querySelector('.transmission-submit');
    const btnText = submitBtn.querySelector('.btn-text');
    const btnLoading = submitBtn.querySelector('.btn-loading');
    
    form.addEventListener('submit', function(e) {
        // Show loading state
        btnText.classList.add('hidden');
        btnLoading.classList.remove('hidden');
        submitBtn.disabled = true;
        
        // Basic validation
        let isValid = true;
        const requiredFields = form.querySelectorAll('[required]');
        
        requiredFields.forEach(field => {
            const formGroup = field.closest('.form-group');
            const existingError = formGroup.querySelector('.field-error');
            
            if (existingError) existingError.remove();
            
            if (!field.value.trim()) {
                isValid = false;
                const error = document.createElement('div');
                error.className = 'field-error';
                error.textContent = 'This field is required';
                formGroup.appendChild(error);
            }
        });
        
        // Email validation
        const emailField = form.querySelector('input[type="email"]');
        if (emailField && emailField.value.trim()) {
            const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailPattern.test(emailField.value)) {
                isValid = false;
                const formGroup = emailField.closest('.form-group');
                const existingError = formGroup.querySelector('.field-error');
                if (existingError) existingError.remove();
                
                const error = document.createElement('div');
                error.className = 'field-error';
                error.textContent = 'Please enter a valid email address';
                formGroup.appendChild(error);
            }
        }
        
        if (!isValid) {
            e.preventDefault();
            // Reset button state
            btnText.classList.remove('hidden');
            btnLoading.classList.add('hidden');
            submitBtn.disabled = false;
            
            // Scroll to first error
            const firstError = form.querySelector('.field-error');
            if (firstError) {
                firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }
    });
    
    // Clear errors on input
    const formInputs = form.querySelectorAll('.form-control');
    formInputs.forEach(input => {
        input.addEventListener('input', function() {
            const formGroup = this.closest('.form-group');
            const error = formGroup.querySelector('.field-error');
            if (error) error.remove();
        });
    });
}

function initHUDDataCounters() {
    const counters = document.querySelectorAll('.hud-data-counter');
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const counter = entry.target;
                const target = parseInt(counter.dataset.target, 10) || 0;
                const duration = 2000;
                const step = target / (duration / 16);
                let current = 0;
                
                const updateCounter = () => {
                    current += step;
                    if (current < target) {
                        counter.textContent = Math.floor(current);
                        requestAnimationFrame(updateCounter);
                    } else {
                        counter.textContent = target;
                    }
                };
                
                setTimeout(updateCounter, 300);
                observer.unobserve(counter);
            }
        });
    }, { threshold: 0.5 });
    
    counters.forEach(counter => observer.observe(counter));
}

function initTerminalEffects() {
    const cursor = document.querySelector('.terminal-cursor');
    if (cursor) {
        setInterval(() => {
            cursor.style.opacity = cursor.style.opacity === '0' ? '1' : '0';
        }, 500);
    }
}
</script>
{% endblock %}