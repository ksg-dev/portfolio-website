{% extends "base.html" %}
{% load static %}
{% load core_tags %}

{% block title %}AURA | Advanced User Repository & Archive{% endblock %}
{% block meta_description %}AURA - Advanced User Repository & Archive. Python Development, Machine Learning, and Data Science Portfolio of Sonni Gunnels.{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'core/css/home.css' %}">
{% endblock %}

{% block body_class %}aura-homepage{% endblock %}

{% block content %}
<!-- Loading Screen -->
<div class="loading-screen" id="loadingScreen">
    <div class="loading-container" id="loadingContainer">
        <div class="aura-logo aura-logo-animate">AURA</div>
        <div class="aura-subtitle aura-subtitle-animate">ADVANCED USER REPOSITORY & ARCHIVE</div>
        <div class="loading-progress">
            <div class="progress-bar aura-progress-animate"></div>
        </div>
        <div class="loading-text aura-text-animate">Initializing systems...</div>
    </div>
    
    <div class="welcome-screen" id="welcomeScreen">
        <div class="welcome-message aura-welcome-animate">WELCOME TO AURA</div>
    </div>
</div>

<!-- Main Interface -->
<div class="main-interface aura-interface-animate" id="mainInterface">
    
    <!-- Hero Dashboard Section -->
    <section class="hero-dashboard">
        <div class="container">
            <!-- Welcome Panel -->
            <div class="glass-card hero-welcome-panel">
                <h1 class="hero-title">[ AURA SYSTEM ONLINE ]</h1>
                <p class="hero-subtitle">ADVANCED USER REPOSITORY & ARCHIVE</p>
                <div class="hero-description">
                    Python Development, Machine Learning, and Data Science solutions through intelligent system architecture and advanced analytics.
                </div>
                
                <div class="system-status-display">
                    <div class="status-metric">
                        <div class="status-metric-icon">
                            <i class="fas fa-microchip"></i>
                        </div>
                        <div class="status-metric-content">
                            <div class="status-metric-value">{{ featured_projects.count|default:"5" }}</div>
                            <div class="status-metric-label">Active Systems</div>
                        </div>
                    </div>
                    
                    <div class="status-metric">
                        <div class="status-metric-icon">
                            <i class="fas fa-database"></i>
                        </div>
                        <div class="status-metric-content">
                            <div class="status-metric-value">{{ latest_posts.count|default:"12" }}</div>
                            <div class="status-metric-label">Data Logs</div>
                        </div>
                    </div>
                    
                    <div class="status-metric">
                        <div class="status-metric-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="status-metric-content">
                            <div class="status-metric-value">99.7%</div>
                            <div class="status-metric-label">Uptime</div>
                        </div>
                    </div>
                    
                    <div class="status-metric">
                        <div class="status-metric-icon">
                            <i class="fas fa-code"></i>
                        </div>
                        <div class="status-metric-content">
                            <div class="status-metric-value">{{ skill_categories.count|default:"6" }}</div>
                            <div class="status-metric-label">Tech Domains</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Quick Stats Section -->
    <section class="quick-stats-section">
        <div class="container">
            <div class="quick-stats-grid">
                <div class="quick-stat-card teal aura-card-animate aura-stagger-1">
                    <div class="quick-stat-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div class="quick-stat-value hud-data-counter" data-target="{{ total_ml_projects|default:'8' }}">0</div>
                    <div class="quick-stat-label">ML Projects</div>
                    <div class="quick-stat-trend trend-up">
                        <i class="fas fa-arrow-up"></i> +2 this month
                    </div>
                </div>
                
                <div class="quick-stat-card lavender aura-card-animate aura-stagger-2">
                    <div class="quick-stat-icon">
                        <i class="fas fa-server"></i>
                    </div>
                    <div class="quick-stat-value hud-data-counter" data-target="{{ deployed_systems|default:'12' }}">0</div>
                    <div class="quick-stat-label">Deployed Systems</div>
                    <div class="quick-stat-trend trend-up">
                        <i class="fas fa-arrow-up"></i> +4 deployed
                    </div>
                </div>
                
                <div class="quick-stat-card coral aura-card-animate aura-stagger-3">
                    <div class="quick-stat-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="quick-stat-value">142ms</div>
                    <div class="quick-stat-label">Response Time</div>
                    <div class="quick-stat-trend trend-down">
                        <i class="fas fa-arrow-down"></i> -15ms improved
                    </div>
                </div>
                
                <div class="quick-stat-card mint aura-card-animate aura-stagger-4">
                    <div class="quick-stat-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="quick-stat-value">99.8%</div>
                    <div class="quick-stat-label">System Health</div>
                    <div class="quick-stat-trend trend-up">
                        <i class="fas fa-arrow-up"></i> +0.2% optimized
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Systems Section -->
    <section class="featured-systems-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Featured Systems</h2>
                <p class="section-subtitle">Core system modules and active deployments</p>
            </div>
            
            <div class="featured-systems-grid">
                {% for system in featured_projects %}
                <div class="system-card aura-card-animate aura-stagger-{{ forloop.counter }}">
                    <div class="system-header">
                        <div class="system-id">{{ system.system_id|default:"SYS-"|add:forloop.counter|stringformat:"03d" }}</div>
                        <div class="system-status">
                            <div class="status-indicator operational"></div>
                            <span>{{ system.status|default:"OPERATIONAL" }}</span>
                        </div>
                    </div>
                    
                    <div class="system-image">
                        {% if system.featured_image %}
                        <img src="{{ system.featured_image.url }}" alt="{{ system.title }}">
                        {% else %}
                        <div class="system-image-placeholder">
                            <i class="fas fa-microchip"></i>
                        </div>
                        {% endif %}
                    </div>
                    
                    <div class="system-content">
                        <h3 class="system-title">{{ system.title }}</h3>
                        <p class="system-description">{{ system.excerpt|default:system.description|truncatewords:20 }}</p>
                        
                        <div class="system-metrics">
                            <div class="system-metric">
                                <div class="system-metric-value">{{ system.completion_percent|default:"95" }}%</div>
                                <div class="system-metric-label">Complete</div>
                            </div>
                            <div class="system-metric">
                                <div class="system-metric-value">{{ system.complexity|default:"4" }}/5</div>
                                <div class="system-metric-label">Complexity</div>
                            </div>
                            <div class="system-metric">
                                <div class="system-metric-value">{{ system.technologies.count|default:"6" }}</div>
                                <div class="system-metric-label">Tech Stack</div>
                            </div>
                        </div>
                        
                        <div class="system-tech-stack">
                            {% for tech in system.technologies.all|slice:":4" %}
                            <span class="tech-tag">{{ tech.name }}</span>
                            {% empty %}
                            <span class="tech-tag">Python</span>
                            <span class="tech-tag">Django</span>
                            <span class="tech-tag">ML</span>
                            <span class="tech-tag">API</span>
                            {% endfor %}
                            {% if system.technologies.count > 4 %}
                            <span class="tech-tag">+{{ system.technologies.count|add:"-4" }} more</span>
                            {% endif %}
                        </div>
                        
                        <a href="{{ system.get_absolute_url }}" class="system-link">
                            Access System <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
                {% empty %}
                <!-- Demo system cards if no featured projects -->
                <div class="system-card aura-card-animate aura-stagger-1">
                    <div class="system-header">
                        <div class="system-id">SYS-001</div>
                        <div class="system-status">
                            <div class="status-indicator operational"></div>
                            <span>OPERATIONAL</span>
                        </div>
                    </div>
                    <div class="system-image">
                        <div class="system-image-placeholder">
                            <i class="fas fa-brain"></i>
                        </div>
                    </div>
                    <div class="system-content">
                        <h3 class="system-title">ML Prediction Engine</h3>
                        <p class="system-description">Advanced machine learning system for predictive analytics and data modeling with real-time processing capabilities.</p>
                        <div class="system-metrics">
                            <div class="system-metric">
                                <div class="system-metric-value">98%</div>
                                <div class="system-metric-label">Complete</div>
                            </div>
                            <div class="system-metric">
                                <div class="system-metric-value">4/5</div>
                                <div class="system-metric-label">Complexity</div>
                            </div>
                            <div class="system-metric">
                                <div class="system-metric-value">8</div>
                                <div class="system-metric-label">Tech Stack</div>
                            </div>
                        </div>
                        <div class="system-tech-stack">
                            <span class="tech-tag">Python</span>
                            <span class="tech-tag">TensorFlow</span>
                            <span class="tech-tag">FastAPI</span>
                            <span class="tech-tag">Docker</span>
                        </div>
                        <a href="#" class="system-link">
                            Access System <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>

                <div class="system-card aura-card-animate aura-stagger-2">
                    <div class="system-header">
                        <div class="system-id">SYS-002</div>
                        <div class="system-status">
                            <div class="status-indicator operational"></div>
                            <span>OPERATIONAL</span>
                        </div>
                    </div>
                    <div class="system-image">
                        <div class="system-image-placeholder">
                            <i class="fas fa-database"></i>
                        </div>
                    </div>
                    <div class="system-content">
                        <h3 class="system-title">Data Pipeline Architecture</h3>
                        <p class="system-description">Automated data processing and ETL pipeline with advanced monitoring and real-time data validation.</p>
                        <div class="system-metrics">
                            <div class="system-metric">
                                <div class="system-metric-value">92%</div>
                                <div class="system-metric-label">Complete</div>
                            </div>
                            <div class="system-metric">
                                <div class="system-metric-value">3/5</div>
                                <div class="system-metric-label">Complexity</div>
                            </div>
                            <div class="system-metric">
                                <div class="system-metric-value">6</div>
                                <div class="system-metric-label">Tech Stack</div>
                            </div>
                        </div>
                        <div class="system-tech-stack">
                            <span class="tech-tag">Python</span>
                            <span class="tech-tag">Apache Airflow</span>
                            <span class="tech-tag">PostgreSQL</span>
                            <span class="tech-tag">Redis</span>
                        </div>
                        <a href="#" class="system-link">
                            Access System <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>

                <div class="system-card aura-card-animate aura-stagger-3">
                    <div class="system-header">
                        <div class="system-id">SYS-003</div>
                        <div class="system-status">
                            <div class="status-indicator warning"></div>
                            <span>DEVELOPMENT</span>
                        </div>
                    </div>
                    <div class="system-image">
                        <div class="system-image-placeholder">
                            <i class="fas fa-robot"></i>
                        </div>
                    </div>
                    <div class="system-content">
                        <h3 class="system-title">AI Assistant Framework</h3>
                        <p class="system-description">Intelligent assistant system with natural language processing and context-aware response generation.</p>
                        <div class="system-metrics">
                            <div class="system-metric">
                                <div class="system-metric-value">75%</div>
                                <div class="system-metric-label">Complete</div>
                            </div>
                            <div class="system-metric">
                                <div class="system-metric-value">5/5</div>
                                <div class="system-metric-label">Complexity</div>
                            </div>
                            <div class="system-metric">
                                <div class="system-metric-value">10</div>
                                <div class="system-metric-label">Tech Stack</div>
                            </div>
                        </div>
                        <div class="system-tech-stack">
                            <span class="tech-tag">Python</span>
                            <span class="tech-tag">OpenAI</span>
                            <span class="tech-tag">LangChain</span>
                            <span class="tech-tag">Vector DB</span>
                        </div>
                        <a href="#" class="system-link">
                            Access System <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
                {% endfor %}
            </div>
            
            <div class="text-center mt-4">
                <a href="{% url 'projects:system_list' %}" class="btn btn-outline">
                    View All Systems <i class="fas fa-arrow-right ms-2"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- Recent DEVLOGs Section -->
    <section class="recent-devlogs-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Recent Data Logs</h2>
                <p class="section-subtitle">System documentation and development insights</p>
            </div>
            
            <div class="devlogs-grid">
                {% for post in latest_posts %}
                <div class="devlog-card aura-card-animate aura-stagger-{{ forloop.counter }}">
                    <div class="devlog-header">
                        <div class="devlog-id">LOG-{{ forloop.counter|stringformat:"03d" }}</div>
                        <div class="devlog-category">{{ post.category.name|default:"DEV" }}</div>
                    </div>
                    
                    <div class="devlog-content">
                        <h3 class="devlog-title">{{ post.title }}</h3>
                        <p class="devlog-excerpt">{{ post.excerpt|default:post.content|truncatewords:25 }}</p>
                        
                        <div class="devlog-meta">
                            <span><i class="far fa-calendar-alt"></i> {{ post.published_date|date:"M d, Y"|default:"May 22, 2025" }}</span>
                            <span><i class="far fa-clock"></i> {{ post.reading_time|default:"4" }} min read</span>
                        </div>
                        
                        {% if post.related_systems.exists %}
                        <div class="devlog-systems">
                            <span class="systems-label">Connected Systems:</span>
                            {% for system in post.related_systems.all|slice:":2" %}
                            <span class="system-badge">{{ system.system_id }}</span>
                            {% endfor %}
                        </div>
                        {% endif %}
                        
                        <a href="{{ post.get_absolute_url }}" class="devlog-link">
                            Access Log <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
                {% empty %}
                <!-- Demo devlog cards if no posts -->
                <div class="devlog-card aura-card-animate aura-stagger-1">
                    <div class="devlog-header">
                        <div class="devlog-id">LOG-001</div>
                        <div class="devlog-category">ML</div>
                    </div>
                    <div class="devlog-content">
                        <h3 class="devlog-title">Optimizing Neural Network Performance</h3>
                        <p class="devlog-excerpt">Implementing advanced optimization techniques for deep learning models including gradient clipping and learning rate scheduling for improved convergence.</p>
                        <div class="devlog-meta">
                            <span><i class="far fa-calendar-alt"></i> May 20, 2025</span>
                            <span><i class="far fa-clock"></i> 6 min read</span>
                        </div>
                        <div class="devlog-systems">
                            <span class="systems-label">Connected Systems:</span>
                            <span class="system-badge">SYS-001</span>
                            <span class="system-badge">SYS-003</span>
                        </div>
                        <a href="#" class="devlog-link">
                            Access Log <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>

                <div class="devlog-card aura-card-animate aura-stagger-2">
                    <div class="devlog-header">
                        <div class="devlog-id">LOG-002</div>
                        <div class="devlog-category">DATA</div>
                    </div>
                    <div class="devlog-content">
                        <h3 class="devlog-title">Real-time Data Streaming Architecture</h3>
                        <p class="devlog-excerpt">Building scalable data pipelines with Apache Kafka and Python for real-time analytics and event-driven processing systems.</p>
                        <div class="devlog-meta">
                            <span><i class="far fa-calendar-alt"></i> May 18, 2025</span>
                            <span><i class="far fa-clock"></i> 8 min read</span>
                        </div>
                        <div class="devlog-systems">
                            <span class="systems-label">Connected Systems:</span>
                            <span class="system-badge">SYS-002</span>
                        </div>
                        <a href="#" class="devlog-link">
                            Access Log <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>

                <div class="devlog-card aura-card-animate aura-stagger-3">
                    <div class="devlog-header">
                        <div class="devlog-id">LOG-003</div>
                        <div class="devlog-category">API</div>
                    </div>
                    <div class="devlog-content">
                        <h3 class="devlog-title">FastAPI Security Implementation</h3>
                        <p class="devlog-excerpt">Implementing robust authentication and authorization with JWT tokens, rate limiting, and API key management for production systems.</p>
                        <div class="devlog-meta">
                            <span><i class="far fa-calendar-alt"></i> May 15, 2025</span>
                            <span><i class="far fa-clock"></i> 5 min read</span>
                        </div>
                        <a href="#" class="devlog-link">
                            Access Log <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
                {% endfor %}
            </div>
            
            <div class="text-center mt-4">
                <a href="{% url 'blog:post_list' %}" class="btn btn-outline">
                    View All Data Logs <i class="fas fa-arrow-right ms-2"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- Call to Action Section -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-container">
                <h2 class="cta-title">Initiate Communication Protocol</h2>
                <p class="cta-subtitle">Ready to collaborate on your next system deployment or technical challenge?</p>
                
                <div class="cta-buttons">
                    <a href="{% url 'core:contact' %}" class="btn btn-primary">
                        <i class="fas fa-satellite-dish me-2"></i> Open Channel
                    </a>
                    <a href="{% url 'core:about' %}" class="btn btn-outline">
                        <i class="fas fa-user-astronaut me-2"></i> View Profile
                    </a>
                </div>
            </div>
        </div>
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'core/js/home.js' %}"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Three-phase loading sequence
    const loadingScreen = document.getElementById('loadingScreen');
    const mainInterface = document.getElementById('mainInterface');
    const loadingContainer = document.getElementById('loadingContainer');
    const welcomeScreen = document.getElementById('welcomeScreen');
    
    // Phase 1: Loading sequence (0-4.5s)
    setTimeout(() => {
        loadingContainer.classList.add('phase-complete');
        setTimeout(() => {
            welcomeScreen.classList.add('active');
        }, 500);
    }, 4500);
    
    // Phase 2: Welcome screen (4.5s-7s)
    setTimeout(() => {
        welcomeScreen.classList.remove('active');
        setTimeout(() => {
            loadingScreen.classList.add('fade-out');
            setTimeout(() => {
                loadingScreen.style.display = 'none';
                mainInterface.classList.add('active');
                document.body.style.overflow = 'auto';
                
                // Initialize number counters after interface loads
                initHUDDataCounters();
            }, 1000);
        }, 800);
    }, 7000);

    // Initialize HUD data counters
    function initHUDDataCounters() {
        const counters = document.querySelectorAll('.hud-data-counter');
        
        counters.forEach(counter => {
            const target = parseInt(counter.dataset.target, 10) || 0;
            const duration = 2000;
            const step = target / (duration / 16);
            let current = 0;
            
            const updateCounter = () => {
                current += step;
                if (current < target) {
                    counter.textContent = Math.floor(current);
                    requestAnimationFrame(updateCounter);
                } else {
                    counter.textContent = target;
                }
            };
            
            // Start counter with slight delay for visual effect
            setTimeout(updateCounter, 500);
        });
    }
});
</script>
{% endblock %}