<!-- systems/templates/systems/system_detail.html -->
{% extends 'base.html' %}

{% block title %}{{ project.title }} | Systems{% endblock %}

{% block content %}
<div class="tech-container">
  <div class="flex justify-between items-center mb-6">
    <div>
      <div class="tech-header">SYSTEM_DETAILS</div>
      <h1 class="text-xl text-accent-coral">{{ project.title }}</h1>
    </div>
    <div class="circular-progress" style="width: 80px; height: 80px;">
      <div class="circular-progress-inner">
        <div class="text-base">
          {{ project.completion_percentage }}%
        </div>
        <div class="text-xs">COMPLETE</div>
      </div>
    </div>
  </div>
  
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    <div class="md:col-span-2">
      <div class="mb-6">
        <div class="text-sm opacity-80">{{ project.description }}</div>
      </div>
      
      <div class="mb-6">
        <div class="text-sm font-bold mb-2">SYSTEM_SPECIFICATIONS</div>
        <div class="text-sm blog-content">{{ project.content|linebreaks }}</div>
      </div>
      
      {% if project.github_url or project.live_url %}
      <div class="flex mt-6">
        {% if project.github_url %}
        <a href="{{ project.github_url }}" target="_blank" class="button-tech mr-4 text-sm">ACCESS_CODE_REPOSITORY</a>
        {% endif %}
        
        {% if project.live_url %}
        <a href="{{ project.live_url }}" target="_blank" class="button-tech text-sm">ACCESS_LIVE_SYSTEM</a>
        {% endif %}
      </div>
      {% endif %}
    </div>
    
    <div>
      <div class="tech-container">
        <div class="text-sm font-bold mb-4">TECHNOLOGY_STACK</div>
        
        {% for tech in project.technologies %}
        <div class="mb-3">
          <div class="flex justify-between text-xs mb-1">
            <div>{{ tech.name }}</div>
            <div>{{ tech.percentage }}%</div>
          </div>
          <div class="progress-bar">
            <div class="progress-bar-fill" data-width="{{ tech.percentage }}" style="width: 0%"></div>
          </div>
        </div>
        {% endfor %}
      </div>
      
      <div class="tech-container mt-4">
        <div class="text-sm font-bold mb-4">SYSTEM_METADATA</div>
        
        <div class="data-readout">
          <div class="data-readout-label">CATEGORY:</div>
          <div>{{ project.category.name }}</div>
        </div>
        
        <div class="data-readout">
          <div class="data-readout-label">CREATED:</div>
          <div>{{ project.created_at }}</div>
        </div>
        
        <div class="data-readout">
          <div class="data-readout-label">LAST_UPDATE:</div>
          <div>{{ project.updated_at }}</div>
        </div>
        
        <div class="data-readout">
          <div class="data-readout-label">STATUS:</div>
          <div class="text-accent-coral">{{ project.status|upper }}</div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Project Images/Screenshots -->
{% if project.images %}
<div class="tech-container mt-6">
  <div class="tech-header">SYSTEM_VISUALIZATION</div>
  
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
    {% for image in project.images %}
    <div class="border border-accent-teal p-1">
      <img src="{{ image.image.url }}" alt="{{ project.title }} - Screenshot {{ forloop.counter }}" class="w-full">
      <div class="text-xs mt-2 opacity-70">// VISUAL_DATA_{{ forloop.counter }} //</div>
    </div>
    {% endfor %}
  </div>
</div>
{% endif %}
{% endblock %}