<!----
 * AURA Portfolio - System Control Interface Template
 * Nested System Command Center Experience
 * Version: 1.0.0 - Complete System Control Interface
---->

{% extends "projects/systems_base.html" %}
{% load static %}
{% load aura_filters %}
{% load aura_components %}
{% load system_tags %}

{% block systems_title %}{{ system.title }} - Control Interface{% endblock %}
{% block systems_body_class %}system-control-interface control-active{% endblock %}

{% block systems_css %}
<link rel="stylesheet" href="{% static 'projects/css/dashboard.css' %}">
<link rel="stylesheet" href="{% static 'projects/css/systems-unified.css' %}">
<link rel="stylesheet" href="{% static 'projects/css/systems-components.css' %}">
<style>
    /* System Control Interface Specific Styles */
    .control-interface-layout {
        display: grid;
        grid-template-columns: 280px 1fr;
        gap: 0;
        min-height: calc(100vh - 200px);
        background: var(--gradient-glass);
        border-radius: var(--border-radius-xl, 16px);
        overflow: hidden;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    /* System Control Sidebar */
    .control-sidebar {
        background:
            linear-gradient(180deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.6) 100%),
            rgba(var(--system-color-rgb, 38, 198, 218), 0.1);
        border-right: 1px solid rgba(var(--system-color-rgb, 38, 198, 218), 0.3);
        backdrop-filter: blur(20px);
        position: relative;
        overflow-y: auto;
    }

    .control-sidebar::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        width: 3px;
        background: linear-gradient(180deg,
                var(--system-color, var(--color-teal)),
                var(--color-coral),
                var(--color-lavender));
        opacity: 0.8;
    }

    /* System Header in Sidebar */
    .system-header-panel {
        padding: var(--spacing-xl, 2rem) var(--spacing-lg, 1.5rem);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        text-align: center;
    }

    .system-status-indicator {
        display: inline-flex;
        align-items: center;
        gap: var(--spacing-xs, 0.5rem);
        padding: var(--spacing-xs, 0.5rem) var(--spacing-md, 1rem);
        background: rgba(var(--system-color-rgb, 38, 198, 218), 0.2);
        border: 1px solid rgba(var(--system-color-rgb, 38, 198, 218), 0.4);
        border-radius: var(--border-radius-full, 50px);
        font-size: 0.8rem;
        color: var(--system-color, var(--color-teal));
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: var(--spacing-md, 1rem);
        animation: pulse 2s infinite;
        width: auto;
        height: auto;
    }

    .system-title-header {
        font-family: var(--font-heading);
        font-size: 1.4rem;
        color: var(--color-text);
        margin-bottom: var(--spacing-sm, 0.75rem);
        line-height: 1.2;
    }

    .system-subtitle-header {
        color: var(--color-text-secondary);
        font-size: 0.9rem;
        margin-bottom: var(--spacing-lg, 1.5rem);
    }

    .system-quick-stats {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: var(--spacing-sm, 0.75rem);
        margin-bottom: var(--spacing-lg, 1.5rem);
    }

    .quick-stat-item {
        text-align: center;
        padding: var(--spacing-sm, 0.75rem);
        background: rgba(255, 255, 255, 0.05);
        border-radius: var(--border-radius-md, 8px);
    }

    .quick-stat-value {
        display: block;
        font-family: var(--font-code);
        font-size: 1.2rem;
        font-weight: 600;
        color: var(--system-color, var(--color-teal));
        margin-bottom: var(--spacing-xs, 0.5rem);
    }

    .quick-stat-label {
        font-size: 0.7rem;
        color: var(--color-text-tertiary);
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    /* Control Panel Navigation */
    .control-panels-nav {
        padding: var(--spacing-lg, 1.5rem);
    }

    .nav-section-title {
        font-size: 0.8rem;
        color: var(--color-text-secondary);
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: var(--spacing-md, 1rem);
        font-weight: 600;
    }

    .control-panel-nav {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-xs, 0.5rem);
    }

    .control-panel-link {
        display: flex;
        align-items: center;
        gap: var(--spacing-md, 1rem);
        padding: var(--spacing-md, 1rem);
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid transparent;
        border-radius: var(--border-radius-md, 8px);
        color: var(--color-text-secondary);
        text-decoration: none;
        transition: all 0.3s ease;
        position: relative;
    }

    .control-panel-link:hover {
        background: rgba(var(--system-color-rgb, 38, 198, 218), 0.1);
        border-color: rgba(var(--system-color-rgb, 38, 198, 218), 0.3);
        color: var(--system-color, var(--color-teal));
        transform: translateX(4px);
    }

    .control-panel-link.active {
        background: rgba(var(--system-color-rgb, 38, 198, 218), 0.15);
        border-color: rgba(var(--system-color-rgb, 38, 198, 218), 0.5);
        color: var(--system-color, var(--color-teal));
        box-shadow: 0 0 20px rgba(var(--system-color-rgb, 38, 198, 218), 0.3);
    }

    .control-panel-link.active::before {
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 3px;
        background: var(--system-color, var(--color-teal));
        border-radius: 0 2px 2px 0;
    }

    .panel-link-icon {
        width: 20px;
        text-align: center;
        font-size: 0.9rem;
    }

    .panel-link-content {
        flex: 1;
        min-width: 0;
    }

    .panel-link-name {
        font-weight: 500;
        font-size: 0.9rem;
        margin-bottom: var(--spacing-xs, 0.5rem);
    }

    .panel-link-desc {
        font-size: 0.7rem;
        opacity: 0.8;
        line-height: 1.3;
    }

    .panel-link-count {
        font-family: var(--font-code);
        font-size: 0.7rem;
        padding: var(--spacing-xs, 0.5rem);
        background: rgba(var(--system-color-rgb, 38, 198, 218), 0.2);
        border-radius: var(--border-radius-sm, 4px);
        color: var(--system-color, var(--color-teal));
        font-weight: 600;
    }

    /* Main Control Content Area */
    .control-content-area {
        background: var(--gradient-glass);
        position: relative;
        overflow-y: auto;
        padding: var(--spacing-xl, 2rem);
    }

    .control-content-header {
        margin-bottom: var(--spacing-xl, 2rem);
        padding-bottom: var(--spacing-lg, 1.5rem);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .panel-title {
        font-family: var(--font-heading);
        font-size: 2rem;
        color: var(--color-text);
        margin-bottom: var(--spacing-sm, 0.75rem);
        display: flex;
        align-items: center;
        gap: var(--spacing-md, 1rem);
    }

    .panel-title-icon {
        width: 40px;
        height: 40px;
        background: rgba(var(--system-color-rgb, 38, 198, 218), 0.2);
        border-radius: var(--border-radius-md, 8px);
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--system-color, var(--color-teal));
        font-size: 1.2rem;
    }

    .panel-description {
        color: var(--color-text-secondary);
        font-size: 1rem;
        line-height: 1.5;
    }

    /* Panel Content Styles */
    .panel-content-grid {
        display: grid;
        gap: var(--spacing-xl, 2rem);
    }

    .grid-2-col {
        grid-template-columns: 2fr 1fr;
    }

    .grid-3-col {
        grid-template-columns: repeat(3, 1fr);
    }

    .grid-1-col {
        grid-template-columns: 1fr;
    }

    /* DataLogs Panel Specific */
    .datalogs-category-group {
        margin-bottom: var(--spacing-xl, 2rem);
    }

    .category-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: var(--spacing-lg, 1.5rem);
        padding: var(--spacing-md, 1rem);
        background: rgba(179, 157, 219, 0.1);
        border-radius: var(--border-radius-md, 8px);
        border-left: 4px solid var(--color-lavender);
    }

    .category-title {
        font-weight: 600;
        color: var(--color-lavender);
        margin: 0;
    }

    .category-count {
        font-family: var(--font-code);
        font-size: 0.8rem;
        padding: var(--spacing-xs, 0.5rem) var(--spacing-sm, 0.75rem);
        background: rgba(179, 157, 219, 0.2);
        border-radius: var(--border-radius-full, 50px);
        color: var(--color-lavender);
    }

    .datalog-item {
        display: flex;
        align-items: flex-start;
        gap: var(--spacing-md, 1rem);
        padding: var(--spacing-lg, 1.5rem);
        background: rgba(255, 255, 255, 0.03);
        border-radius: var(--border-radius-lg, 12px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        margin-bottom: var(--spacing-md, 1rem);
        transition: all 0.3s ease;
    }

    .datalog-item:hover {
        background: rgba(179, 157, 219, 0.1);
        border-color: rgba(179, 157, 219, 0.3);
        transform: translateY(-2px);
    }

    .datalog-icon {
        width: 36px;
        height: 36px;
        background: rgba(179, 157, 219, 0.2);
        border-radius: var(--border-radius-md, 8px);
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--color-lavender);
        flex-shrink: 0;
    }

    .datalog-content {
        flex: 1;
        min-width: 0;
    }

    .datalog-title {
        font-weight: 600;
        margin: 0 0 var(--spacing-sm, 0.75rem) 0;
        color: var(--color-text);
    }

    .datalog-title a {
        color: inherit;
        text-decoration: none;
    }

    .datalog-title a:hover {
        color: var(--color-lavender);
    }

    .datalog-meta {
        display: flex;
        gap: var(--spacing-md, 1rem);
        margin-bottom: var(--spacing-sm, 0.75rem);
        font-size: 0.8rem;
        color: var(--color-text-tertiary);
    }

    .datalog-excerpt {
        color: var(--color-text-secondary);
        line-height: 1.4;
        font-size: 0.9rem;
    }

    .datalog-actions {
        display: flex;
        gap: var(--spacing-sm, 0.75rem);
        margin-top: var(--spacing-md, 1rem);
    }

    .datalog-action {
        padding: var(--spacing-xs, 0.5rem) var(--spacing-md, 1rem);
        background: rgba(179, 157, 219, 0.1);
        border: 1px solid rgba(179, 157, 219, 0.3);
        border-radius: var(--border-radius-md, 8px);
        color: var(--color-lavender);
        text-decoration: none;
        font-size: 0.8rem;
        font-weight: 500;
        transition: all 0.3s ease;
    }

    .datalog-action:hover {
        background: rgba(179, 157, 219, 0.2);
        color: var(--color-lavender);
        transform: translateY(-1px);
    }

    /* Technology Panel Specific */
    .tech-analysis-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: var(--spacing-lg, 1.5rem);
    }

    .tech-analysis-card {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 138, 128, 0.2);
        border-radius: var(--border-radius-lg, 12px);
        padding: var(--spacing-lg, 1.5rem);
        transition: all 0.3s ease;
    }

    .tech-analysis-card:hover {
        background: rgba(255, 138, 128, 0.1);
        border-color: rgba(255, 138, 128, 0.4);
        transform: translateY(-2px);
    }

    .tech-card-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: var(--spacing-md, 1rem);
    }

    .tech-name {
        font-weight: 600;
        color: var(--color-coral);
        font-size: 1.1rem;
    }

    .tech-usage-count {
        font-family: var(--font-code);
        font-size: 0.8rem;
        padding: var(--spacing-xs, 0.5rem) var(--spacing-sm, 0.75rem);
        background: rgba(255, 138, 128, 0.2);
        border-radius: var(--border-radius-full, 50px);
        color: var(--color-coral);
    }

    .tech-similar-systems {
        margin-top: var(--spacing-md, 1rem);
    }

    .similar-system-item {
        display: flex;
        align-items: center;
        gap: var(--spacing-sm, 0.75rem);
        padding: var(--spacing-sm, 0.75rem);
        background: rgba(255, 255, 255, 0.03);
        border-radius: var(--border-radius-md, 8px);
        margin-bottom: var(--spacing-xs, 0.5rem);
        font-size: 0.8rem;
    }

    /* Performance Panel Specific */
    .performance-metrics-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: var(--spacing-lg, 1.5rem);
        margin-bottom: var(--spacing-xl, 2rem);
    }

    .performance-metric-card {
        text-align: center;
        padding: var(--spacing-lg, 1.5rem);
        background: rgba(255, 245, 157, 0.1);
        border: 1px solid rgba(255, 245, 157, 0.3);
        border-radius: var(--border-radius-lg, 12px);
    }

    .metric-value-large {
        font-family: var(--font-heading);
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--color-yellow);
        display: block;
        margin-bottom: var(--spacing-sm, 0.75rem);
    }

    .metric-label-large {
        color: var(--color-text-secondary);
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    /* Timeline Panel Specific */
    .timeline-container {
        position: relative;
        padding-left: var(--spacing-xl, 2rem);
    }

    .timeline-container::before {
        content: '';
        position: absolute;
        left: var(--spacing-md, 1rem);
        top: 0;
        bottom: 0;
        width: 2px;
        background: linear-gradient(180deg,
                var(--color-teal),
                var(--color-coral),
                var(--color-lavender));
        opacity: 0.5;
    }

    .timeline-event {
        position: relative;
        margin-bottom: var(--spacing-xl, 2rem);
        padding: var(--spacing-lg, 1.5rem);
        background: rgba(255, 255, 255, 0.05);
        border-radius: var(--border-radius-lg, 12px);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .timeline-event::before {
        content: '';
        position: absolute;
        left: calc(-1 * var(--spacing-xl, 2rem) - 4px);
        top: var(--spacing-lg, 1.5rem);
        width: 12px;
        height: 12px;
        background: var(--color-teal);
        border-radius: 50%;
        border: 2px solid var(--color-bg-primary);
    }

    .timeline-event.milestone::before {
        background: var(--color-coral);
        width: 16px;
        height: 16px;
        left: calc(-1 * var(--spacing-xl, 2rem) - 6px);
    }

    .timeline-date {
        font-family: var(--font-code);
        font-size: 0.8rem;
        color: var(--color-text-tertiary);
        margin-bottom: var(--spacing-sm, 0.75rem);
    }

    .timeline-title {
        font-weight: 600;
        color: var(--color-text);
        margin-bottom: var(--spacing-sm, 0.75rem);
    }

    .timeline-description {
        color: var(--color-text-secondary);
        line-height: 1.4;
    }

    /* Feature Panel Specific */
    .features-status-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: var(--spacing-lg, 1.5rem);
        margin-bottom: var(--spacing-xl, 2rem);
    }

    .feature-status-column {
        background: rgba(255, 255, 255, 0.03);
        border-radius: var(--border-radius-lg, 12px);
        padding: var(--spacing-lg, 1.5rem);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .feature-status-header {
        text-align: center;
        margin-bottom: var(--spacing-lg, 1.5rem);
        padding-bottom: var(--spacing-md, 1rem);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .status-title {
        font-weight: 600;
        margin-bottom: var(--spacing-sm, 0.75rem);
    }

    .status-count {
        font-family: var(--font-code);
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--color-mint);
    }

    .feature-item {
        padding: var(--spacing-md, 1rem);
        background: rgba(255, 255, 255, 0.03);
        border-radius: var(--border-radius-md, 8px);
        margin-bottom: var(--spacing-sm, 0.75rem);
        border-left: 3px solid var(--color-mint);
    }

    .feature-item.completed {
        border-left-color: var(--color-mint);
    }

    .feature-item.in-progress {
        border-left-color: var(--color-yellow);
    }

    .feature-item.planned {
        border-left-color: var(--color-coral);
    }

    /* System Color Variants */
    .control-interface-layout.deployed {
        --system-color-rgb: 76, 175, 80;
        --system-color: var(--color-mint);
    }

    .control-interface-layout.in_development {
        --system-color-rgb: 255, 193, 7;
        --system-color: var(--color-yellow);
    }

    .control-interface-layout.testing {
        --system-color-rgb: 255, 138, 128;
        --system-color: var(--color-coral);
    }

    .control-interface-layout.featured {
        --system-color-rgb: 179, 157, 219;
        --system-color: var(--color-lavender);
    }

    /* Responsive Design */
    @media (max-width: 1200px) {
        .control-interface-layout {
            grid-template-columns: 250px 1fr;
        }

        .panel-content-grid.grid-2-col {
            grid-template-columns: 1fr;
        }

        .performance-metrics-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @media (max-width: 991px) {
        .control-interface-layout {
            grid-template-columns: 1fr;
            grid-template-rows: auto 1fr;
        }

        .control-sidebar {
            border-right: none;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            overflow-x: auto;
        }

        .control-panels-nav {
            padding: var(--spacing-md, 1rem);
        }

        .control-panel-nav {
            flex-direction: row;
            overflow-x: auto;
            gap: var(--spacing-sm, 0.75rem);
        }

        .control-panel-link {
            flex-shrink: 0;
            min-width: 200px;
        }

        .performance-metrics-grid {
            grid-template-columns: 1fr;
        }

        .features-status-grid {
            grid-template-columns: 1fr;
        }
    }

    @media (max-width: 767px) {
        .control-content-area {
            padding: var(--spacing-lg, 1.5rem);
        }

        .panel-title {
            font-size: 1.5rem;
            flex-direction: column;
            text-align: center;
            gap: var(--spacing-sm, 0.75rem);
        }

        .tech-analysis-grid {
            grid-template-columns: 1fr;
        }

        .system-quick-stats {
            grid-template-columns: 1fr;
        }
    }
</style>
{% endblock %}

{% block systems_content %}
<div class="system-control-main">

    <!-- System Control Interface -->
    <div class="control-interface-layout {{ system.status }}{% if system.featured %} featured{% endif %}">

        <!-- Control Sidebar -->
        <aside class="control-sidebar">

            <!-- System Header -->
            <div class="system-header-panel">
                <div class="system-status-indicator">
                    <i class="fas fa-circle"></i>
                    <span>{{ system.get_status_display }}</span>
                </div>

                <h1 class="system-title-header">{{ system.title }}</h1>
                {% if system.system_type %}
                <p class="system-subtitle-header">{{ system.system_type.name }} System</p>
                {% endif %}

                <!-- Quick Stats -->
                <div class="system-quick-stats">
                    <div class="quick-stat-item">
                        <span class="quick-stat-value">{{ quick_stats.completion_percent }}%</span>
                        <span class="quick-stat-label">Complete</span>
                    </div>
                    <div class="quick-stat-item">
                        <span class="quick-stat-value">{{ quick_stats.technologies_count }}</span>
                        <span class="quick-stat-label">Technologies</span>
                    </div>
                    <div class="quick-stat-item">
                        <span class="quick-stat-value">{{ quick_stats.logs_count }}</span>
                        <span class="quick-stat-label">DataLogs</span>
                    </div>
                    <div class="quick-stat-item">
                        <span class="quick-stat-value">{{ quick_stats.days_since_update }}</span>
                        <span class="quick-stat-label">Days Updated</span>
                    </div>
                </div>
            </div>

            <!-- Control Panels Navigation -->
            <nav class="control-panels-nav">
                <h3 class="nav-section-title">Control Panels</h3>

                <div class="control-panel-nav">
                    {% for panel in control_panels %}
                    <a href="?panel={{ panel.id }}"
                        class="control-panel-link {% if active_panel == panel.id %}active{% endif %}">
                        <div class="panel-link-icon">
                            <i class="fas fa-{{ panel.icon }}"></i>
                        </div>
                        <div class="panel-link-content">
                            <div class="panel-link-name">{{ panel.name }}</div>
                            <div class="panel-link-desc">{{ panel.description }}</div>
                        </div>
                        {% if panel.count is not None %}
                        <div class="panel-link-count">{{ panel.count }}</div>
                        {% endif %}
                    </a>
                    {% endfor %}
                </div>
            </nav>

        </aside>

        <!-- Main Control Content -->
        <main class="control-content-area">

            <!-- Panel Header -->
            <header class="control-content-header">
                {% for panel in control_panels %}
                {% if panel.id == active_panel %}
                <h2 class="panel-title">
                    <div class="panel-title-icon">
                        <i class="fas fa-{{ panel.icon }}"></i>
                    </div>
                    {{ panel.name }}
                </h2>
                <p class="panel-description">{{ panel.description }}</p>
                {% endif %}
                {% endfor %}
            </header>

            <!-- Dynamic Panel Content -->
            <div class="panel-content-container">

                {% if active_panel == 'overview' %}
                <!-- Overview Panel -->
                <div class="panel-content-grid grid-2-col">

                    <!-- System Overview -->
                    <div class="unified-dashboard-container teal">
                        <div class="unified-container-header">
                            <h3 class="unified-container-title" style="font-size: 1.5rem; margin-bottom: 0;">System Overview</h3>
                        </div>
                        
                        <div class="metric-content">
                            <div class="metric-value">{{ performance_data.completion_score }}%</div>
                            <div class="metric-label">System Completion</div>
                        </div>
                        
                        <div style="margin-top: var(--spacing-lg, 1.5rem);">
                            <div style="display: flex; justify-content: space-between; margin-bottom: var(--spacing-sm, 0.75rem);">
                                <span style="font-size: 0.8rem; color: var(--color-text-secondary);">Progress</span>
                                <span style="font-size: 0.8rem; color: var(--color-teal);">{{ performance_data.completion_score }}%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: {{ performance_data.completion_score }}%"></div>
                            </div>
                        </div>
                        
                        <div style="margin-top: var(--spacing-lg, 1.5rem); display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-md, 1rem);">
                            <div style="text-align: center;">
                                {% with performance_data.complexity_rating as complexity %}
                                <div style="color: var(--color-teal); font-weight: 600;">{{ complexity.stars }}</div>
                                <div style="font-size: 0.7rem; color: var(--color-text-tertiary);">COMPLEXITY</div>
                                {% endwith %}
                            </div>
                            <div style="text-align: center;">
                                <div style="color: var(--color-teal); font-weight: 600;">{{ system.get_status_display }}</div>
                                <div style="font-size: 0.7rem; color: var(--color-text-tertiary);">STATUS</div>
                            </div>
                        </div>
                    </div>


                <!-- Recent Activity -->
                <div class="unified-dashboard-container mint">
                    <div class="unified-container-header">
                        <h3 class="unified-container-title" style="font-size: 1.5rem; margin-bottom: 0;">Recent Activity
                        </h3>
                    </div>

                    <div class="activity-feed">
                        {% for entry in panel_data.recent_activity %}
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <div class="activity-content">
                                <p class="activity-title">{{ entry.post.title|truncatechars:40 }}</p>
                                <p class="activity-details">DataLog entry updated</p>
                                <p class="activity-time">{{ entry.created_at|timesince }} ago</p>
                            </div>
                        </div>
                        {% empty %}
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-info-circle"></i>
                            </div>
                            <div class="activity-content">
                                <p class="activity-title">No recent activity</p>
                                <p class="activity-details">System is stable</p>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <!-- Key Technologies -->
            <div class="unified-dashboard-container coral">
                <div class="unified-container-header">
                    <h3 class="unified-container-title" style="font-size: 1.5rem; margin-bottom: 0;">Key Technologies
                    </h3>
                </div>

                <div
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: var(--spacing-md, 1rem);">
                    {% for tech in panel_data.key_technologies %}
                    <div
                        style="text-align: center; padding: var(--spacing-md, 1rem); background: rgba(255, 255, 255, 0.05); border-radius: var(--border-radius-md, 8px);">
                        <div style="tech-icon"><i class="fas {{ tech.icon|default:'code' }}"></i></div>
                        <div
                            style="color: var(--color-coral); font-weight: 600; margin-bottom: var(--spacing-xs, 0.5rem);">
                            {{ tech.name }}</div>
                        <div style="font-size: 0.7rem; color: var(--color-text-tertiary);">
                            {{ tech.category|default:"Technology" }}</div>
                    </div>
                    {% endfor %}
                </div>
            </div>

            {% elif active_panel == 'detail' %}
                <!-- Detail Panel -->
                <div class="panel-content-grid">

                    <!-- System Description -->
                    <div class="unified-dashboard-container lavender">
                        <div class="unified-container-header">
                            <h3 class="unified-container-title" style="font-size: 1.5rem; margin-bottom: 0;">System Description</h3>
                        </div>
                        
                        <div class="content-wrapper">
                            {{ system.description|markdownify }}
                        </div>
                    </div>
                    <!-- Features Overview -->
                    <div class="unified-dashboard-container mint">
                        <div class="unified-container-header">
                            <h3 class="unified-container-title" style="font-size: 1.5rem; margin-bottom: 0;">Features Overview</h3>
                        </div>
                        
                        <div class="content-wrapper">
                            {{ system.features_overview|markdownify }}
                        </div>
                    </div>
                    <!-- Technical Details -->
                    <div class="unified-dashboard-container coral">
                        <div class="unified-container-header">
                            <h3 class="unified-container-title" style="font-size: 1.5rem; margin-bottom: 0;">Tecchnical Details</h3>
                        </div>
                        
                        <div class="content-wrapper">
                            {{ system.technical_details }}
                        </div>
                    </div>


                <!-- Recent Activity -->
                <div class="unified-dashboard-container mint">
                    <div class="unified-container-header">
                        <h3 class="unified-container-title" style="font-size: 1.5rem; margin-bottom: 0;">Recent Activity
                        </h3>
                    </div>

                    <div class="activity-feed">
                        {% for entry in panel_data.recent_activity %}
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <div class="activity-content">
                                <p class="activity-title">{{ entry.post.title|truncatechars:40 }}</p>
                                <p class="activity-details">DataLog entry updated</p>
                                <p class="activity-time">{{ entry.created_at|timesince }} ago</p>
                            </div>
                        </div>
                        {% empty %}
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-info-circle"></i>
                            </div>
                            <div class="activity-content">
                                <p class="activity-title">No recent activity</p>
                                <p class="activity-details">System is stable</p>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <!-- Key Technologies -->
            <div class="unified-dashboard-container coral">
                <div class="unified-container-header">
                    <h3 class="unified-container-title" style="font-size: 1.5rem; margin-bottom: 0;">Key Technologies
                    </h3>
                </div>

                <div
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: var(--spacing-md, 1rem);">
                    {% for tech in panel_data.key_technologies %}
                    <div
                        style="text-align: center; padding: var(--spacing-md, 1rem); background: rgba(255, 255, 255, 0.05); border-radius: var(--border-radius-md, 8px);">
                        <div style="tech-icon"><i class="fas {{ tech.icon|default:'code' }}"></i></div>
                        <div
                            style="color: var(--color-coral); font-weight: 600; margin-bottom: var(--spacing-xs, 0.5rem);">
                            {{ tech.name }}</div>
                        <div style="font-size: 0.7rem; color: var(--color-text-tertiary);">
                            {{ tech.category|default:"Technology" }}</div>
                    </div>
                    {% endfor %}
                </div>
            </div>

            {% elif active_panel == 'datalogs' %}
            <!-- DataLogs Panel -->
            <div class="panel-content-grid grid-1-col">

                <!-- DataLogs Stats -->
                <div class="unified-dashboard-container lavender">
                    <div class="unified-container-header">
                        <h3 class="unified-container-title" style="font-size: 1.5rem; margin-bottom: 0;">DataLogs
                            Statistics</h3>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--spacing-lg, 1.5rem);">
                        <div class="metric-content">
                            <div class="metric-value">{{ panel_data.log_stats.total_logs }}</div>
                            <div class="metric-label">Total Logs</div>
                        </div>
                        <div class="metric-content">
                            <div class="metric-value">{{ panel_data.log_stats.categories_count }}</div>
                            <div class="metric-label">Categories</div>
                        </div>
                        <div class="metric-content">
                            <div class="metric-value">{{ panel_data.log_stats.logs_by_priority.high }}</div>
                            <div class="metric-label">High Priority</div>
                        </div>
                        <div class="metric-content">
                            <div class="metric-value">{{ panel_data.connection_types|length }}</div>
                            <div class="metric-label">Connection Types</div>
                        </div>
                    </div>
                </div>

                <!-- DataLogs by Category -->
                {% for category, logs in panel_data.logs_by_category.items %}
                <div class="datalogs-category-group">
                    <div class="category-header">
                        <h4 class="category-title">{{ category }}</h4>
                        <span class="category-count">{{ logs|length }}</span>
                    </div>

                    {% for log_entry in logs|slice:":5" %}
                    <div class="datalog-item">
                        <div class="datalog-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="datalog-content">
                            <h5 class="datalog-title">
                                <a href="{{ log_entry.post.get_absolute_url }}">{{ log_entry.post.title }}</a>
                            </h5>
                            <div class="datalog-meta">
                                <span><i class="fas fa-calendar"></i> {{ log_entry.created_at|date:"M d, Y" }}</span>
                                <span><i class="fas fa-user"></i> {{ log_entry.post.author.username }}</span>
                                <span><i class="fas fa-link"></i> {{ log_entry.connection_type|title }}</span>
                            </div>
                            {% if log_entry.post.excerpt %}
                            <p class="datalog-excerpt">{{ log_entry.post.excerpt|truncatechars:120 }}</p>
                            {% endif %}
                            <div class="datalog-actions">
                                <a href="{{ log_entry.post.get_absolute_url }}" class="datalog-action">
                                    <i class="fas fa-eye"></i> View Log
                                </a>
                                {% if log_entry.post.featured_code %}
                                <a href="{{ log_entry.post.get_absolute_url }}#code" class="datalog-action">
                                    <i class="fas fa-code"></i> View Code
                                </a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    {% endfor %}

                    {% if logs|length > 5 %}
                    <div style="text-align: center; margin-top: var(--spacing-md, 1rem);">
                        <a href="{% url 'blog:post_list' %}?system={{ system.slug }}&category={{ category|slugify }}"
                            class="datalog-action">
                            View all {{ logs|length }} {{ category|lower }} logs
                            <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                    {% endif %}
                </div>
                {% empty %}
                <div class="unified-dashboard-container lavender">
                    <div style="text-align: center; padding: var(--spacing-xxl, 4rem);">
                        <i class="fas fa-file-alt"
                            style="font-size: 3rem; opacity: 0.3; margin-bottom: var(--spacing-lg, 1.5rem);"></i>
                        <h3>No DataLogs Found</h3>
                        <p>This system doesn't have any connected DataLog entries yet.</p>
                        <a href="{% url 'blog:post_create' %}?system={{ system.slug }}" class="datalog-action"
                            style="margin-top: var(--spacing-lg, 1.5rem);">
                            <i class="fas fa-plus"></i> Create First Log
                        </a>
                    </div>
                </div>
                {% endfor %}
            </div>

            {% elif active_panel == 'technologies' %}
            <!-- Technologies Panel -->
            <div class="panel-content-grid grid-1-col">

                <!-- Technology Overview -->
                <div class="unified-dashboard-container coral">
                    <div class="unified-container-header">
                        <h3 class="unified-container-title" style="font-size: 1.5rem; margin-bottom: 0;">Technology
                            Analysis</h3>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--spacing-lg, 1.5rem);">
                        <div class="metric-content">
                            <div class="metric-value">{{ panel_data.tech_stats.total_technologies }}</div>
                            <div class="metric-label">Total Technologies</div>
                        </div>
                        <div class="metric-content">
                            <div class="metric-value">{{ panel_data.tech_stats.categories|length }}</div>
                            <div class="metric-label">Categories</div>
                        </div>
                        <div class="metric-content">
                            <div class="metric-value">{{ panel_data.tech_stats.primary_stack|length }}</div>
                            <div class="metric-label">Primary Stack</div>
                        </div>
                    </div>
                </div>

                <!-- Technology Analysis Cards -->
                <div class="tech-analysis-grid">
                    {% for tech_name, analysis in panel_data.tech_analysis.items %}
                    <div class="tech-analysis-card">
                        <div class="tech-card-header">
                            <h4 class="tech-name">{{ tech_name }}</h4>
                            <span class="tech-usage-count">{{ analysis.usage_in_similar }}</span>
                        </div>
                        <div class="tech-icon" style="display: inline; font-size: 1.5rem; color: var(--color-coral);"><i class="fas {{ analysis.technology.icon|default:'cogs' }}"></i></div>

                        <div style="margin-bottom: var(--spacing-md, 1rem);">
                            <div
                                style="font-size: 0.8rem; color: var(--color-text-secondary); margin-bottom: var(--spacing-xs, 0.5rem);">
                                Category</div>
                            <div style="color: var(--color-coral); font-weight: 500;">{{ analysis.category }}</div>
                        </div>

                        {% if analysis.similar_systems %}
                        <div class="tech-similar-systems">
                            <div
                                style="font-size: 0.8rem; color: var(--color-text-secondary); margin-bottom: var(--spacing-sm, 0.75rem);">
                                Used in similar systems:</div>
                            {% for similar_system in analysis.similar_systems %}
                            <div class="similar-system-item">
                                <i class="fas fa-cube"></i>
                                <span>{{ similar_system.title }}</span>
                            </div>
                            {% endfor %}
                        </div>
                        {% endif %}
                    </div>
                    {% endfor %}
                </div>
            </div>

            {% elif active_panel == 'performance' %}
            <!-- Performance Panel -->
            <div class="panel-content-grid grid-1-col">

                {% if panel_data.has_performance_data %}
                <!-- Performance Metrics -->
                <div class="performance-metrics-grid">
                    <div class="performance-metric-card">
                        <div class="metric-value-large">{{ panel_data.current_metrics.performance_score }}</div>
                        <div class="metric-label-large">Performance Score</div>
                    </div>
                    <div class="performance-metric-card">
                        <div class="metric-value-large">{{ panel_data.current_metrics.uptime|default:"--" }}%</div>
                        <div class="metric-label-large">Uptime</div>
                    </div>
                    <div class="performance-metric-card">
                        <div class="metric-value-large">{{ panel_data.current_metrics.daily_users|default:"--" }}</div>
                        <div class="metric-label-large">Daily Users</div>
                    </div>
                    <div class="performance-metric-card">
                        <div class="metric-value-large">{{ panel_data.current_metrics.response_time|default:"--" }}ms
                        </div>
                        <div class="metric-label-large">Response Time</div>
                    </div>
                </div>

                <!-- Performance Chart Placeholder -->
                <div class="unified-dashboard-container yellow">
                    <div class="unified-container-header">
                        <h3 class="unified-container-title" style="font-size: 1.5rem; margin-bottom: 0;">Performance
                            History</h3>
                    </div>

                    <div class="chart-container">
                        <div class="chart-placeholder">
                            <div class="chart-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <p>Performance trend visualization</p>
                            <p class="chart-note">Chart.js integration ready</p>
                        </div>
                    </div>
                </div>
                {% else %}
                <!-- No Performance Data -->
                <div class="unified-dashboard-container yellow">
                    <div style="text-align: center; padding: var(--spacing-xxl, 4rem);">
                        <i class="fas fa-chart-line"
                            style="font-size: 3rem; opacity: 0.3; margin-bottom: var(--spacing-lg, 1.5rem);"></i>
                        <h3>Performance Monitoring Unavailable</h3>
                        <p>This system doesn't have performance monitoring configured yet.</p>
                    </div>
                </div>
                {% endif %}
            </div>

            {% elif active_panel == 'timeline' %}
            <!-- Timeline Panel -->
            <div class="panel-content-grid grid-1-col">

                <div class="unified-dashboard-container gunmetal">
                    <div class="unified-container-header">
                        <h3 class="unified-container-title" style="font-size: 1.5rem; margin-bottom: 0;">Development
                            Timeline</h3>
                            <span>{{ panel_data.timeline_events|length }} events</span>
                    </div>

                    <div class="timeline-container">
                        {% for event in panel_data.timeline_events|slice:":10" %}
                        <div class="timeline-event {{ event.type }}">
                            <div class="timeline-date">{{ event.date|date:"M d, Y - g:i A" }}</div>
                            <h4 class="timeline-title">{{ event.event }}</h4>
                            <p class="timeline-description">{{ event.description }}</p>
                            {% if event.url %}
                            <a href="{{ event.url }}" class="datalog-action">
                                <i class="fas fa-external-link-alt"></i> View Details
                            </a>
                            {% endif %}
                        </div>
                        {% empty %}
                        <div style="text-align: center; padding: var(--spacing-xxl, 4rem);">
                            <i class="fas fa-history"
                                style="font-size: 3rem; opacity: 0.3; margin-bottom: var(--spacing-lg, 1.5rem);"></i>
                            <h3>No Timeline Events</h3>
                            <p>No development timeline events found for this system.</p>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

            {% elif active_panel == 'features' %}
            <!-- Features Panel -->
            <div class="panel-content-grid grid-1-col">

                {% if panel_data.features %}
                <!-- Feature Status Overview -->
                <div class="features-status-grid">
                    <div class="feature-status-column">
                        <div class="feature-status-header">
                            <h4 class="status-title" style="color: var(--color-mint);">Completed</h4>
                            <div class="status-count" style="color: var(--color-mint);">
                                {{ panel_data.feature_stats.completed_features }}</div>
                        </div>
                        {% for feature in panel_data.features_by_status.completed|slice:":5" %}
                        <div class="feature-item completed">
                            {% comment %} <div class="feature-icon" style="display: inline-flex;">
                                <i class="fas {{ feature.icon }}"></i>
                            </div> {% endcomment %}
                            <div style="font-weight: 600; margin-bottom: var(--spacing-xs, 0.5rem);">{{ feature.title }}
                            </div>
                            <div style="font-size: 0.8rem; color: var(--color-text-secondary);">
                                {{ feature.description|truncatechars:60 }}</div>
                        </div>
                        {% endfor %}
                    </div>

                    <div class="feature-status-column">
                        <div class="feature-status-header">
                            <h4 class="status-title" style="color: var(--color-yellow);">In Progress</h4>
                            <div class="status-count" style="color: var(--color-yellow);">
                                {{ panel_data.feature_stats.in_progress_features }}</div>
                        </div>
                        {% for feature in panel_data.features_by_status.in_progress|slice:":5" %}
                        <div class="feature-item in-progress">
                            <div style="font-weight: 600; margin-bottom: var(--spacing-xs, 0.5rem);">{{ feature.title }}
                            </div>
                            <div style="font-size: 0.8rem; color: var(--color-text-secondary);">
                                {{ feature.description|truncatechars:60 }}</div>
                        </div>
                        {% endfor %}
                    </div>

                    <div class="feature-status-column">
                        <div class="feature-status-header">
                            <h4 class="status-title" style="color: var(--color-coral);">Planned</h4>
                            <div class="status-count" style="color: var(--color-coral);">
                                {{ panel_data.feature_stats.planned_features }}</div>
                        </div>
                        {% for feature in panel_data.features_by_status.planned|slice:":5" %}
                        <div class="feature-item planned">
                            <div style="font-weight: 600; margin-bottom: var(--spacing-xs, 0.5rem);">{{ feature.title }}
                            </div>
                            <div style="font-size: 0.8rem; color: var(--color-text-secondary);">
                                {{ feature.description|truncatechars:60 }}</div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% else %}
                <!-- No Features -->
                <div class="unified-dashboard-container mint">
                    <div style="text-align: center; padding: var(--spacing-xxl, 4rem);">
                        <i class="fas fa-puzzle-piece"
                            style="font-size: 3rem; opacity: 0.3; margin-bottom: var(--spacing-lg, 1.5rem);"></i>
                        <h3>No Features Defined</h3>
                        <p>This system doesn't have any defined features yet.</p>
                    </div>
                </div>
                {% endif %}
            </div>

            {% elif active_panel == 'dependencies' %}
            <!-- Dependencies Panel -->
            <div class="panel-content-grid grid-2-col">

                <!-- Dependencies -->
                <div class="unified-dashboard-container navy">
                    <div class="unified-container-header">
                        <h3 class="unified-container-title" style="font-size: 1.5rem; margin-bottom: 0;">Dependencies
                        </h3>
                    </div>

                    {% if panel_data.dependencies %}
                    <div style="display: flex; flex-direction: column; gap: var(--spacing-md, 1rem);">
                        {% for dependency in panel_data.dependencies %}
                        <div
                            style="display: flex; align-items: center; gap: var(--spacing-md, 1rem); padding: var(--spacing-md, 1rem); background: rgba(255, 255, 255, 0.05); border-radius: var(--border-radius-md, 8px);">
                            <div
                                style="width: 32px; height: 32px; background: rgba(92, 107, 192, 0.2); border-radius: var(--border-radius-md, 8px); display: flex; align-items: center; justify-content: center; color: #7986cb;">
                                <i class="fas fa-cube"></i>
                            </div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #e8eaf6;">{{ dependency.depends_on.title }}</div>
                                <div style="font-size: 0.8rem; color: rgba(232, 234, 246, 0.8);">
                                    {{ dependency.dependency_type|default:"Required" }}</div>
                            </div>
                            {% if dependency.is_critical %}
                            <span
                                style="background: rgba(244, 67, 54, 0.2); color: #f44336; padding: var(--spacing-xs, 0.5rem); border-radius: var(--border-radius-sm, 4px); font-size: 0.7rem;">Critical</span>
                            {% endif %}
                        </div>
                        {% endfor %}
                    </div>
                    {% else %}
                    <div style="text-align: center; padding: var(--spacing-xl, 2rem);">
                        <i class="fas fa-project-diagram"
                            style="font-size: 2rem; opacity: 0.3; margin-bottom: var(--spacing-md, 1rem);"></i>
                        <p>No dependencies defined</p>
                    </div>
                    {% endif %}
                </div>

                <!-- Dependents -->
                <div class="unified-dashboard-container navy">
                    <div class="unified-container-header">
                        <h3 class="unified-container-title" style="font-size: 1.5rem; margin-bottom: 0;">Dependents</h3>
                    </div>

                    {% if panel_data.dependents %}
                    <div style="display: flex; flex-direction: column; gap: var(--spacing-md, 1rem);">
                        {% for dependent in panel_data.dependents %}
                        <div
                            style="display: flex; align-items: center; gap: var(--spacing-md, 1rem); padding: var(--spacing-md, 1rem); background: rgba(255, 255, 255, 0.05); border-radius: var(--border-radius-md, 8px);">
                            <div
                                style="width: 32px; height: 32px; background: rgba(92, 107, 192, 0.2); border-radius: var(--border-radius-md, 8px); display: flex; align-items: center; justify-content: center; color: #7986cb;">
                                <i class="fas fa-cube"></i>
                            </div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #e8eaf6;">{{ dependent.system.title }}</div>
                                <div style="font-size: 0.8rem; color: rgba(232, 234, 246, 0.8);">
                                    {{ dependent.dependency_type|default:"Depends on this system" }}</div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    {% else %}
                    <div style="text-align: center; padding: var(--spacing-xl, 2rem);">
                        <i class="fas fa-project-diagram"
                            style="font-size: 2rem; opacity: 0.3; margin-bottom: var(--spacing-md, 1rem);"></i>
                        <p>No systems depend on this</p>
                    </div>
                    {% endif %}
                </div>
            </div>

            {% else %}
            <!-- Default/Unknown Panel -->
            <div class="unified-dashboard-container teal">
                <div style="text-align: center; padding: var(--spacing-xxl, 4rem);">
                    <i class="fas fa-cog"
                        style="font-size: 3rem; opacity: 0.3; margin-bottom: var(--spacing-lg, 1.5rem);"></i>
                    <h3>Panel Not Found</h3>
                    <p>The requested control panel is not available.</p>
                    <a href="?panel=overview" class="datalog-action">
                        <i class="fas fa-tachometer-alt"></i> Return to Overview
                    </a>
                </div>
            </div>
            {% endif %}

    </div>

    <!-- Related Systems Footer -->
    {% if related_systems %}
    <footer
        style="margin-top: var(--spacing-xxl, 4rem); padding-top: var(--spacing-xl, 2rem); border-top: 1px solid rgba(255, 255, 255, 0.1);">
        <div class="unified-dashboard-container gunmetal">
            <div class="unified-container-header">
                <h3 class="unified-container-title" style="font-size: 1.5rem; margin-bottom: 0;">Related Systems</h3>
            </div>

            <div
                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-lg, 1.5rem);">
                {% for related_system in related_systems|slice:":6" %}
                <a href="{{ related_system.get_absolute_url }}"
                    style="display: flex; align-items: center; gap: var(--spacing-md, 1rem); padding: var(--spacing-md, 1rem); background: rgba(255, 255, 255, 0.05); border-radius: var(--border-radius-md, 8px); text-decoration: none; color: inherit; transition: all 0.3s ease;">
                    <div
                        style="width: 32px; height: 32px; background: rgba(84, 110, 122, 0.2); border-radius: var(--border-radius-md, 8px); display: flex; align-items: center; justify-content: center; color: #90a4ae;">
                        <i class="fas fa-cube"></i>
                    </div>
                    <div style="flex: 1; min-width: 0;">
                        <div
                            style="font-weight: 600; color: var(--color-text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                            {{ related_system.title }}</div>
                        <div style="font-size: 0.8rem; color: var(--color-text-secondary);">
                            {{ related_system.get_status_display }}</div>
                    </div>
                </a>
                {% endfor %}
            </div>
        </div>
    </footer>
    {% endif %}

    </main>
</div>

</div>
{% endblock %}

{% block extra_js %}
{{ block.super }}
<script src="{% static 'projects/js/dashboard_panel.js' %}"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Initialize progress bars animation
        setTimeout(() => {
            const progressFills = document.querySelectorAll('.progress-fill');
            progressFills.forEach((fill, index) => {
                const width = fill.style.width;
                fill.style.width = '0%';
                setTimeout(() => {
                    fill.style.transition = 'width 1.5s ease';
                    fill.style.width = width;
                }, index * 200);
            });
        }, 500);

        // Animate control panel entrance
        const controlPanels = document.querySelectorAll('.control-panel-link');
        controlPanels.forEach((panel, index) => {
            panel.style.opacity = '0';
            panel.style.transform = 'translateX(-20px)';
            setTimeout(() => {
                panel.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                panel.style.opacity = '1';
                panel.style.transform = 'translateX(0)';
            }, index * 100);
        });

        // Animate datalog items
        const datalogItems = document.querySelectorAll('.datalog-item');
        datalogItems.forEach((item, index) => {
            item.style.opacity = '0';
            item.style.transform = 'translateY(20px)';
            setTimeout(() => {
                item.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                item.style.opacity = '1';
                item.style.transform = 'translateY(0)';
            }, index * 100 + 500);
        });

        // Animate timeline events
        const timelineEvents = document.querySelectorAll('.timeline-event');
        timelineEvents.forEach((event, index) => {
            event.style.opacity = '0';
            event.style.transform = 'translateX(30px)';
            setTimeout(() => {
                event.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                event.style.opacity = '1';
                event.style.transform = 'translateX(0)';
            }, index * 150 + 300);
        });

        // Animate tech analysis cards
        const techCards = document.querySelectorAll('.tech-analysis-card');
        techCards.forEach((card, index) => {
            card.style.opacity = '0';
            card.style.transform = 'scale(0.9)';
            setTimeout(() => {
                card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                card.style.opacity = '1';
                card.style.transform = 'scale(1)';
            }, index * 150 + 200);
        });

        // Add hover sound effect (visual feedback)
        document.querySelectorAll('.control-panel-link').forEach(link => {
            link.addEventListener('mouseenter', function () {
                if (!this.classList.contains('active')) {
                    this.style.transform = 'translateX(8px)';
                }
            });

            link.addEventListener('mouseleave', function () {
                if (!this.classList.contains('active')) {
                    this.style.transform = 'translateX(0)';
                }
            });
        });

        // System status pulse animation
        const statusIndicator = document.querySelector('.system-status-indicator');
        if (statusIndicator) {
            setInterval(() => {
                statusIndicator.style.transform = 'scale(1.05)';
                setTimeout(() => {
                    statusIndicator.style.transform = 'scale(1)';
                }, 200);
            }, 3000);
        }

        console.log('🚀 System Control Interface fully loaded and operational!');
    });
</script>
{% endblock %}