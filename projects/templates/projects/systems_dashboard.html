<!----
 * AURA Portfolio - Enhanced Systems Dashboard Template
 * Advanced User Repository & Archive - Complete Foundation
 * Version: 3.2.0 - Enhanced Grid System Better Layout
---->

{% extends "projects/systems_base.html" %}
{% load static %}
{% load aura_filters %}
{% load aura_components %}
{% load system_tags %}

{% block systems_title %}Systems Dashboard{% endblock %}
{% block systems_body_class %}systems-dashboard enhanced-dashboard{% endblock %}

{% block systems_css %}
<link rel="stylesheet" href="{% static 'projects/css/dashboard.css' %}">
<link rel="stylesheet" href="{% static 'projects/css/systems-unified.css' %}">
<link rel="stylesheet" href="{% static 'projects/css/systems-components.css' %}">
{% endblock %}

{% block systems_content %}
<!-- Dashboard Header -->
<section class="dashboard-header-section">
<div class="container">
        <div class="dashboard-hero">
            <div class="dashboard-header">
                <div class="dashboard-badge-row">
                    <div class="systems-featured-badge">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Command Center</span>
                    </div>
                </div>
                <div class="header-info">
                    <h1 class="dashboard-title">AURA DASHBOARD</h1>
                    <span class="dashboard-subtitle"> Real-time System Monitoring</span>
                </div>
                
                
                    
            <!-- Overview Metrics -->
            <div class="metrics-overview">
                <div class="metric-card">
                    <div class="metric-header">
                        <div class="metric-icon">
                            <i class="fas fa-server"></i>
                        </div>
                    </div>
                    <div class="metric-value" data-target="{{ dashboard_stats.total_systems }}">{{ dashboard_stats.total_systems|default:8 }}</div>
                    <div class="metric-label">Total Systems</div>
                </div>
                
                <div class="metric-card metric-development">
                    <div class="metric-header">
                        <div class="metric-icon" style="color: var(--color-yellow);">
                            <i class="fas fa-cogs"></i>
                        </div>
                    </div>
                    <div class="metric-value" data-target="{{ dashboard_stats.systems_in_development }}">{{ dashboard_stats.systems_in_development|default:3 }}</div>
                    <div class="metric-label">In Development</div>
                        </div>
                        
                <div class="metric-card metric-testing">
                    <div class="metric-header">
                        <div class="metric-icon" style="color: var(--color-coral);">
                            <i class="fas fa-vial"></i>
                        </div>
                    </div>
                    <div class="metric-value" data-target="{{ dashboard_stats.systems_testing }}">{{ dashboard_stats.systems_testing|default:2 }}</div>
                    <div class="metric-label">Testing Phase</div>
                </div>
                
                <div class="metric-card metric-completion">
                    <div class="metric-header">
                        <div class="metric-icon" style="color: var(--color-purple);">
                            <i class="fas fa-chart-line"></i>
                        </div>
                    </div>
                    <div class="metric-value" data-target="{{ dashboard_stats.avg_completion|floatformat:0 }}">{{ dashboard_stats.avg_completion|default:76 }}%</div>
                    <div class="metric-label">Avg Completion</div>
                </div>
            </div>
        </div>
    </div>
</section>
            
<!-- Main Dashboard Content -->
<section class="dashboard-content-section">
    <div class="container">
        <div class="dashboard-main-grid">
            
            <!-- Left Column -->
            <div class="dashboard-left-column">
                
                <!-- System Health Overview -->
                <div class="dashboard-panel panel-metrics">
                    <div class="panel-header">
                        <h2 class="panel-title">
                            <i class="fas fa-heartbeat"></i>
                            System Health
                        </h2>
                    </div>
                    <div class="panel-content">
                        <div class="health-grid">
                            <div class="health-item">
                                <div class="health-value" style=color: "var(--color-success);"><i class="fas fa-check-circle"></i> {{ dashboard_stats.systems_operational|default:5 }}</div>
                                <div class="health-label">Operational</div>
                            </div>
                            <div class="health-item">
                                <div class="health-value" style="color: var(--color-warning);"><i class="fas fa-exclamation-triangle"></i> {{ dashboard_stats.systems_warning|default:2 }}</div>
                                <div class="health-label">Warning</div>
                                    </div>
                            <div class="health-item">
                                <div class="health-value" style="color: var(--color-danger);"><i class="fa-solid fa-bomb"></i> {{ dashboard_stats.systems_critical|default:1 }}</div>
                                <div class="health-label">Critical</div>
                                </div>
                            <div class="health-item">
                                <div class="health-value" style="color: var(--color-muted);"><i class="fa-solid fa-moon"></i> {{ dashboard_stats.systems_offline|default:0 }}</div>
                                <div class="health-label">Offline</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Technology Usage -->
                <div class="dashboard-panel panel-technology">
                    <div class="panel-header">
                        <h2 class="panel-title">
                                    <i class="fas fa-layer-group"></i>
                            Technology Stack
                        </h2>
                                </div>
                    <div class="panel-content">
                        <div class="tech-list">
                            {% for tech in tech_usage_stats|default:"Django,Python,JavaScript,PostgreSQL,Redis,Docker"|split_string:"," %}
                            <div class="tech-item">
                                <span class="tech-name">{{ tech }}</span>
                                <span class="tech-count">{{ forloop.counter|add:2 }}</span>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                
            </div>
            
            <!-- Right Column -->
            <div class="dashboard-right-column">
                
                <!-- Recent Systems -->
                <div class="dashboard-panel panel-activity">
                    <div class="panel-header">
                        <h2 class="panel-title">
                                    <i class="fas fa-clock"></i>
                            Recent Systems
                        </h2>
                    </div>
                    <div class="panel-content">
                        <div class="recent-systems-list">
                            {% for system in recent_systems|default_if_none:"" %}
                            <div class="recent-system-item">
                                <div class="system-thumbnail">
                                    {% if system.thumbnail %}
                                    <img src="{{ system.thumbnail.url }}" alt="{{ system.title }}">
                                    {% else %}
                                    <i class="fas fa-microchip"></i>
                                    {% endif %}
                                </div>
                                <div class="system-info">
                                    <div class="system-title">{{ system.title|default:"ML Training Pipeline" }}</div>
                                    <div class="system-meta">{{ system.created_at|default:"2024-06-10"|date:"M d" }} • {{ system.get_status_display|default:"Deployed" }}</div>
                                </div>
                                <div class="system-status {{ system.status|default:'deployed' }}"></div>
                            </div>
                            {% empty %}
                            <!-- Sample Recent Systems -->
                            <div class="recent-system-item">
                                <div class="system-thumbnail"><i class="fas fa-robot"></i></div>
                                <div class="system-info">
                                    <div class="system-title">ML Training Pipeline</div>
                                    <div class="system-meta">Jun 10 • Deployed</div>
                                        </div>
                                <div class="system-status deployed"></div>
                                            </div>
                            <div class="recent-system-item">
                                <div class="system-thumbnail"><i class="fas fa-chart-bar"></i></div>
                                <div class="system-info">
                                    <div class="system-title">Analytics Dashboard</div>
                                    <div class="system-meta">Jun 08 • Testing</div>
                                        </div>
                                <div class="system-status testing"></div>
                                    </div>
                            <div class="recent-system-item">
                                <div class="system-thumbnail"><i class="fas fa-database"></i></div>
                                <div class="system-info">
                                    <div class="system-title">Data Processor</div>
                                    <div class="system-meta">Jun 05 • In Development</div>
                                </div>
                                <div class="system-status in-development"></div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                
                <!-- Activity Timeline -->
                <div class="dashboard-panel panel-activity">
                    <div class="panel-header">
                        <h2 class="panel-title">
                            <i class="fas fa-history"></i>
                            Recent Activity
                        </h2>
                    </div>
                    <div class="panel-content">
                        <div class="activity-timeline">
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-plus"></i>
                                </div>
                                <div class="activity-content">
                                    <div class="activity-title">System "Neural Network Trainer" created</div>
                                    <div class="activity-time">2 hours ago</div>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-check"></i>
                                    </div>
                                <div class="activity-content">
                                    <div class="activity-title">ML Pipeline deployment successful</div>
                                    <div class="activity-time">4 hours ago</div>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-edit"></i>
                </div>
                                <div class="activity-content">
                                    <div class="activity-title">Analytics Dashboard updated</div>
                                    <div class="activity-time">6 hours ago</div>
            </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-vial"></i>
                                        </div>
                                <div class="activity-content">
                                    <div class="activity-title">Data Processor entered testing phase</div>
                                    <div class="activity-time">1 day ago</div>
                                            </div>
                                        </div>
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-code"></i>
                                    </div>
                                <div class="activity-content">
                                    <div class="activity-title">API Gateway configuration updated</div>
                                    <div class="activity-time">2 days ago</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
</section>

<script>
{% comment %} // Real-time clock update
function updateClock() {
    const now = new Date();
    const timeString = now.toISOString().slice(0, 19).replace('T', ' ');
    document.getElementById('current-time').textContent = timeString;
}

// Update clock every second
setInterval(updateClock, 1000); {% endcomment %}

// Animate counter values
document.addEventListener('DOMContentLoaded', function() {
    const counters = document.querySelectorAll('.metric-value[data-target]');
    
    counters.forEach(counter => {
        const target = parseInt(counter.getAttribute('data-target'));
        const increment = target / 50;
        let current = 0;
        
        const timer = setInterval(() => {
            current += increment;
            if (current >= target) {
                counter.textContent = target;
                clearInterval(timer);
            } else {
                counter.textContent = Math.floor(current);
            }
        }, 40);
    });
});
</script>
{% endblock %}